<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Creating Objects with Complex Behavior</title><link rel="Prev" href="containers.10.5.html" title="Previous" /><link rel="Next" href="dynamic.11.1.html" title="Next" /><link rel="StyleSheet" href="css/containers.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/containers_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/UserManuals/containers.10.6.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pofiCiNxfp0BPKZXJ_002fcfoJA" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/UserManuals/containers.10.6.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/foundusrfrontcover.html#wwconnect_header">Foundation</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/containers.10.1.html#wwconnect_header">Containers</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Creating Objects with Complex Behavior</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww474347" class="Heading1"><span></span>Creating Objects with Complex Behavior</div><div id="ww474348" class="Body">The behavior handled by a container and its interactors is usually more sophisticated than just a series of simple actions. </div><div id="ww482828" class="Body">Creating such an object is developed in the topics:</div><div id="ww482827" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><a href="../UserManuals/containers.10.6.html#ww482673" title="Creating Objects with Complex Behavior">Example: Creating a Slider</a></div><div id="ww482833" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><a href="../UserManuals/containers.10.6.html#ww474373" title="Creating Objects with Complex Behavior">Associating a Behavior with Your Device</a></div><div id="ww482837" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><a href="../UserManuals/containers.10.6.html#ww476532" title="Creating Objects with Complex Behavior">Building and Extending your Device</a></div><div class="ww_skin_page_overflow"><table class="NoteTable" cellspacing="0" summary=""><tr><td style="padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top"><div id="ww483177" class="Note"><span class="flag">Note:&nbsp;</span>Remember that you can also use the Prototypes package of Rogue Wave&nbsp;Views to create your own specialized objects.</div></td></tr></table></div><div id="ww482673" class="Subhead"><span></span>Example: Creating a Slider</div><div id="ww482826" class="Body">Let us suppose that you have written a C++ program to drive a multimedia system and you are going to use Rogue Wave&nbsp;Views to create the graphical user interface for your software. You would like to incorporate the following kind of device into your GUI:</div><div class="ww_skin_page_overflow"><div id="ww490265" class="Startfigure"><img class="Default" src="../UserManuals/images/volume.png" width="100%" style="display: block; left: 0.0pt; max-height: 89px; max-width: 378px; top: 0.0pt" alt="" /></div></div><div id="ww474363" class="Caption">Creating a Visual Device: the Slider</div><div id="ww474364" class="Body">You want your user to be able to change the width of the black bar by placing the cursor anywhere on the bar and dragging the mouse either to the left or to the right. And, as soon as the width of the bar is changed, a function in your C++ software changes the volume of the audio system accordingly. There are two different aspects to the behavior of the slider:</div><div id="ww474368" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><span class="bold">Visible Elements</span><span class="bf">&nbsp;&nbsp;</span>From a purely graphic point of view, the appearance of the device is modified when the user intervenes with the mouse. The black rectangle becomes either narrower or wider, depending on the direction in which the cursor is dragged.</div><div id="ww474369" class="IndentedL1">There is thus a modification of the shape of a geometric form. In this example, it is a black rectangle that changes its width, but you could imagine many other kinds of meters, gauges, and dials that could have this same basic behavior. For example, you might have an elliptically-shaped object that becomes either thinner or fatter depending on the direction in which the cursor is dragged.</div><div id="ww474370" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><span class="bold">Functional Elements</span><span class="bf">&nbsp;&nbsp;</span>The real purpose of the slider, of course, is to bring about changes in a domain that is quite remote from the on-screen graphics environment; namely, the audio domain. This is the <span class="emphasis">operational behavior</span><span class="Emphasis"> </span> of the slider.</div><div id="ww474371" class="IndentedL1">To handle the operational behavior of the slider, we can imagine a function called <span class="code">SliderValue</span> that returns the current value of the slider, and another function, <span class="code">SliderChange</span>, that returns the positive or negative value by which the setting of the slider has just been changed. With these two values, you could establish links to the audio sections of your software, so that the volume is changed accordingly.</div><div id="ww474373" class="Subhead"><span></span>Associating a Behavior with Your Device</div><div id="ww474374" class="Body">In the context of Rogue Wave&nbsp;Views, we can create a special object—a behavioral object or<span class="Emphasis" style="font-style: italic"> </span><span class="emphasis">interactor </span>—that encapsulates the particular behavior described in the section <a href="../UserManuals/containers.10.6.html#ww482673" title="Creating Objects with Complex Behavior">Example: Creating a Slider</a>. In other words, it is an instance of the basic class <span class="ClassName"><a href="../RefMan/refcppfoundation/classIlvInteractor.html">IlvInteractor</a></span>. Once you have a behavioral object, you can associate it with various concrete things—a window, a view, a black rectangle, and a few numbers—in order to build an actual slider on the screen.</div><div id="ww476445" class="Body">In the case of the slider, we would probably begin by using <span class="ClassName"><a href="../RefMan/refcppfoundation/classIlvInteractor.html">IlvInteractor</a></span> to derive a class called <span class="code">IlvGaugeInteractor</span> with member functions such as <span class="code">SliderValue</span> and <span class="code">SliderChange</span> for the operational behavior that we described above.</div><div id="ww476448" class="Body">The member function <span class="code">handleEvent</span> of this <span class="code">IlvGaugeInteractor</span> class would be written in such a way that it changes the size of the rectangle (or whatever other shape is used) that indicates the current value of the slider.</div><div id="ww482678" class="Body">Since the application domain in which we want to use our slider is rather special, we would probably then derive a subclass of <span class="code">IlvGaugeInteractor</span>, called <span class="code">AudioSlider</span>, with special-purpose member functions for setting the values of audio parameters in a multimedia system. So, we would then have the following class hierarchy:</div><div class="ww_skin_page_overflow"><div id="ww490269" class="Startfigure"><img class="Default" src="../UserManuals/images/containers.10.6.2.png" width="100%" style="display: block; left: 0.0pt; max-height: 155px; max-width: 500px; top: 0.0pt" alt="" /></div></div><div id="ww474386" class="Caption">IlvAudioSlider Hierarchy</div><div id="ww476532" class="Subhead"><span></span>Building and Extending your Device</div><div id="ww474387" class="Body">The example that follows illustrates a typical manner in which an open-ended product such as Rogue Wave&nbsp;Views can be extended:</div><div id="ww480842" class="Numbered1"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span class="number">1.	</span></span>Connect your application to a display server.</div><div id="ww480857" class="Numbered"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span class="number">2.	</span></span>Create an empty top window where elements of your application can be organized and displayed.</div><div class="ww_skin_page_overflow"><div id="ww490275" class="IndentedL1"><img class="Default" src="../UserManuals/images/empty-window.png" width="100%" style="display: block; left: 0.0pt; max-height: 89px; max-width: 378px; top: 0.0pt" alt="" /></div></div><div id="ww480859" class="IndentedL1">The following code creates a container, which is the top window located in <span class="code">(0, 0)</span>, with a size of <span class="code">100</span> units wide and <span class="code">35</span> units high.</div><div id="ww474404" class="NormalCodeL1">IlvRect viewsize(0, 0, 100, 35);</div><div id="ww481555" class="NormalCodeL1">IlvContainer* topview = new IlvContainer(display, "Audio volume",</div><div id="ww481556" class="LastNormalCodeL1">                                         "Audio volume", viewsize);</div><div id="ww475316" class="IndentedL1">The container coordinates the storage and the display of your graphic objects. </div><div id="ww482683" class="IndentedL1">Since you intend to draw certain objects inside this window, and then cause one of these objects to behave in a specific manner by associating an interactor with it, you are obliged to make use of a container.</div><div id="ww483184" class="Numbered"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span class="number">3.	</span></span>Place graphic objects in the container.</div><div id="ww483098" class="IndentedL1">The following code places two independent objects inside the container:</div><div id="ww483099" class="NormalCodeL1">container-&gt;addObject(scale);</div><div id="ww483105" class="LastNormalCodeL1">container-&gt;addObject(bar);</div><div class="ww_skin_page_overflow"><div id="ww485317" class="IndentedL1"><img class="Default" src="../UserManuals/images/objects.png" width="100%" style="display: block; left: 0.0pt; max-height: 38px; max-width: 444px; top: 0.0pt" alt="" /></div></div><div id="ww474421" class="Numbered"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span class="number">4.	</span></span>Create functional behavior.</div><div id="ww486060" class="IndentedL1">In this final step, you give the bar the kind of audio-volume slider behavior that is normally associated with an audio slider. Recall that this behavior was encapsulated in a class called <span class="code">AudioSlider</span>. So, the behavior of the audio-volume slider can be given by means of the following lines:</div><div id="ww486061" class="NormalCodeL1">IlvInteractor* inter = new AudioSlider();</div><div id="ww486062" class="LastNormalCodeL1">bar-&gt;setInteractor(inter);</div><div id="ww474422" class="IndentedL1">where the class <span class="code">AudioSlider</span> is defined as:</div><div id="ww476511" class="NormalCodeL1">class Audioslider</div><div id="ww476513" class="NormalCodeL1">: IlvGaugeInteractor {</div><div id="ww476515" class="NormalCodeL1">public:</div><div id="ww476516" class="NormalCodeL1">    .../...</div><div id="ww476517" class="NormalCodeL1">    virtual void doIt(IlvGauge* gauge)</div><div id="ww476518" class="NormalCodeL1">    {</div><div id="ww476519" class="NormalCodeL1">       setVolume(gauge-&gt;getValue());</div><div id="ww476520" class="NormalCodeL1">    }</div><div id="ww476521" class="LastNormalCodeL1">};</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright © 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>