<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Customizing Gantt Chart Grids</title><link rel="Prev" href="examples.76.06.html" title="Previous" /><link rel="Next" href="examples.76.08.html" title="Next" /><link rel="StyleSheet" href="css/examples.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/examples_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/UserManuals/examples.76.07.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pKG77s89iSNXIOhPUy9Eoew" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/UserManuals/examples.76.07.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/ganttusrfrontcover.html#wwconnect_header">Gantt</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/examples.76.01.html#wwconnect_header">Using the Gantt Chart Through Examples</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Customizing Gantt Chart Grids</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww1005833" class="Heading1"><span></span>Customizing Gantt Chart Grids</div><div id="ww1005834" class="Body">The <span class="ClassName"><a href="../RefMan/refcppgantt/classIlvGanttChart.html">IlvGanttChart</a></span> class has methods for dealing with a chart grid. Using these methods, you can show or hide the grid, compute its points, and draw it.</div><div id="ww1008411" class="Body">In the grapher views, you can choose to show the grid or not using the method <span class="MethodName"><a href="../RefMan/refcppgantt/classIlvGanttChart.html#a15c782ea226b008c19e5d629eb170a45">showGrid</a></span>. If the <span class="code">redraw</span> parameter is <span class="code">IlTrue</span>, the grapher views will be redrawn.</div><div id="ww1005842" class="Body">You can specify the grid points using the method <span class="MethodName"><a href="../RefMan/refcppgantt/classIlvGanttChart.html#ad82f196ed8e3cffdc38bc8d0d01c6b92">computeGridPoints</a></span>. This method computes the grid points for the grapher view specified by the <span class="code">index</span> parameter (<span class="code">0</span>, <span class="code">1</span>, <span class="code">2</span>, or <span class="code">3</span>). It stores them in two internal data members (one each for the x and y coordinates): <span class="code">_gridXPoints</span> and  <span class="code">_gridYPoints.</span> There are two internal data members for every grapher view.</div><div id="ww1005849" class="Body">You can draw the grid with the virtual method <span class="MethodName"><a href="../RefMan/refcppgantt/classIlvGanttChart.html#ab899cc11580cb25e60b3ef70ed65f4e3">drawGrid</a></span>. This method draws the grid in the given destination port<span class="code">.</span> Its <span class="code">index</span> parameter indicates for which grapher view the grid points are computed. Its <span class="code">skipCompute</span> parameter indicates whether this function calls the <span class="code">computeGridPoints</span> member function. This increases performance; for example, it is useless to call <span class="code">computeGridPoints</span> if there is no change in the point values and there is just a simple redraw.</div><div id="ww1005850" class="Body">The <span class="code">month</span> example shows how to customize the drawing of the grid. The weekend periods are highlighted by drawing additional filled rectangles:</div><div id="ww1006278" class="NormalCode">void</div><div id="ww1006279" class="NormalCode">MonthGanttChart::drawGrid(IlvPort* dst, IlvUShort ix,</div><div id="ww1006280" class="NormalCode">                          IlvBoolean skipCompute, const IlvRegion* clip,</div><div id="ww1006281" class="NormalCode">  IlvTransformer*, IlvDirection)</div><div id="ww1006282" class="NormalCode">{</div><div id="ww1006283" class="NormalCode">    if (!isShowingGrid() || !getGadgetContainer() || rows() == 0)</div><div id="ww1006284" class="NormalCode">        return;</div><div id="ww1006285" class="NormalCode">    if (clip)</div><div id="ww1006286" class="NormalCode">        _holidayPalette-&gt;setClip(clip);</div><div id="ww1006287" class="NormalCode">&nbsp;</div><div id="ww1006288" class="NormalCode">    // The time graduation (step) is 1 hour, 24 means 24 hours per day</div><div id="ww1006289" class="NormalCode">    IlvUShort dayInWeek,</div><div id="ww1006290" class="NormalCode">              startDay = (IlvUShort)</div><div id="ww1006291" class="NormalCode">                         ((getShownStart((IlvUShort)(ix&amp;1))-getStart())/24),</div><div id="ww1006292" class="NormalCode">              endDay = (IlvUShort)</div><div id="ww1006293" class="NormalCode">                       ((getShownEnd((IlvUShort)(ix&amp;1))-getStart())/24);</div><div id="ww1006294" class="NormalCode">    IlvUShort fvRow = firstVisibleRow((IlvUShort)(ix/2));</div><div id="ww1006295" class="NormalCode">    IlvUShort lvRow = lastVisibleRow((IlvUShort)(ix/2));</div><div id="ww1006296" class="NormalCode">    IlvUShort toRow = IlvMin((IlvUShort)(lvRow+2), rows());</div><div id="ww1006297" class="NormalCode">&nbsp;</div><div id="ww1006298" class="NormalCode">    // Gets the current grapher view transformer</div><div id="ww1006299" class="NormalCode">    IlvTransformer* t = getGrapher()-&gt;getTransformer(getGrapherView(ix));</div><div id="ww1006300" class="NormalCode">    IlvRect rect;</div><div id="ww1006301" class="NormalCode">&nbsp;</div><div id="ww1006302" class="NormalCode">    // In the visible part, check if there is a Sunday or a Saturday</div><div id="ww1006303" class="NormalCode">    // and fill the grapher view regions that correspond to these</div><div id="ww1006304" class="NormalCode">    // days with a specific pattern (_holidayPalette)</div><div id="ww1006305" class="NormalCode">    IlvRect fromRect, toRect;</div><div id="ww1006306" class="NormalCode">    rowBBox(fvRow, fromRect);</div><div id="ww1006307" class="NormalCode">    rowBBox(toRow, toRect);</div><div id="ww1006308" class="NormalCode">    for (IlvUShort day = startDay; day &lt; endDay; ++day) {</div><div id="ww1006309" class="NormalCode">        dayInWeek = (IlvUShort)(((IlvInt)day + (IlvInt)_day - 1) % 7);</div><div id="ww1006310" class="NormalCode">        if ((dayInWeek == 6) || (dayInWeek == 0)) {</div><div id="ww1006311" class="NormalCode">            rect.moveResize(day*24, fromRect.y(),</div><div id="ww1006312" class="NormalCode">                            (IlvDim)getStep((IlvUShort)(ix&amp;1)),</div><div id="ww1006313" class="NormalCode">                            (IlvDim)(toRect.y()-fromRect.y()));</div><div id="ww1006314" class="NormalCode">            if (t)</div><div id="ww1006315" class="NormalCode">                t-&gt;apply(rect);</div><div id="ww1006316" class="NormalCode">            dst-&gt;fillRectangle(_holidayPalette, rect);</div><div id="ww1006317" class="NormalCode">        }</div><div id="ww1006318" class="NormalCode">    }</div><div id="ww1006319" class="NormalCode">    LoadGanttChart::drawGrid(dst, ix, skipCompute, clip);</div><div id="ww1006320" class="NormalCode">    if (clip)</div><div id="ww1006321" class="NormalCode">        _holidayPalette-&gt;setClip();</div><div id="ww1006276" class="LastNormalCode">}</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright © 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>