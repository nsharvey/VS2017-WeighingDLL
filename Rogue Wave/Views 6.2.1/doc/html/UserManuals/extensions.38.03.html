<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Defining a New Command</title><link rel="Prev" href="extensions.38.02.html" title="Previous" /><link rel="Next" href="extensions.38.04.html" title="Next" /><link rel="StyleSheet" href="css/extensions.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/extensions_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/UserManuals/extensions.38.03.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pquziAKQplg1ArutKKtpsig" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/UserManuals/extensions.38.03.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/ctrusrfrontcover.html#wwconnect_header">Gadgets</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/ctrusrpart1.html#ww144909">Creating GUI Applications with Rogue Wave&nbsp;Views Studio</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/extensions.38.01.html#wwconnect_header">Extending Rogue Wave&nbsp;Views Studio</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/extensions.38.02.html#wwconnect_header">Extending Rogue Wave&nbsp;Views Studio Components </a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Defining a New Command</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww1024106" class="Heading2"><span></span>Defining a New Command</div><div id="ww1024107" class="Body">A command is an action that the user can perform using the editor. A command is a C++ class, <span class="ClassName"><a href="../RefMan/refcppstudio/classIlvStCommand.html">IlvStCommand</a></span>, which is described in the file <span class="code">&lt;ivstudio/command.h&gt;</span>. It is defined by:</div><div id="ww1024109" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>A declaration that contains information to be displayed in a menu, an icon, or a help message and a list of message names to be sent when the command has been successfully executed. Predefined commands are declared in the command description file <span class="code">studio.cmd</span>. For more information on this file, see the section “Rogue Wave&nbsp;Views Studio Command File” in the Rogue Wave&nbsp;Views<span class="emphasis"> Studio User’s Manual</span>.</div><div id="ww1024116" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>An action that is defined in the virtual member function <span class="code">doIt</span>. It returns 0 when no error occurs; otherwise it returns the corresponding error. </div><div id="ww1024118" class="Heading3"><span></span>Command Errors</div><div id="ww1024120" class="Body">A Rogue Wave&nbsp;Views Studio error is a subclass of the <span class="ClassName"><a href="../RefMan/refcppstudio/classIlvStError.html">IlvStError</a></span> class, which is declared in the file <span class="code">&lt;ivstudio/error.h&gt;</span>. An error can be returned by the <span class="code">doIt</span> member function of a command. An error is defined by a string message and a type. There are three types of errors:</div><div id="ww1024121" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><span class="code">IlvStInformation</span> </div><div id="ww1024122" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><span class="code">IlvStWarning</span> </div><div id="ww1024123" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><span class="code">IlvStFatal</span> </div><div id="ww1024124" class="Body">To add a new command, do the following:</div><div id="ww1024125" class="Numbered1"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span class="number">1.	</span></span>Define a subclass of <span class="ClassName"><a href="../RefMan/refcppstudio/classIlvStCommand.html">IlvStCommand</a></span> to define the virtual member function <span class="code">doIt</span>.</div><div id="ww1024126" class="Numbered"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span class="number">2.	</span></span>Add a descriptor in a command declaration file or directly in an option file.</div><div id="ww1024127" class="Numbered"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span class="number">3.	</span></span>If you use a new command declaration file, declare it in your option file using the <span class="code">commandFile</span> option.</div><div id="ww1024128" class="Numbered"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span class="number">4.	</span></span>Register the command in the editor using the member function <span class="MethodName"><a href="../RefMan/refcppstudio/classIlvStudio.html#af25c72818c055197a27034f76e4623d7">registerCommand</a></span>, giving the command name and a function to build an instance of the command.</div><div id="ww1024130" class="Heading3"><span></span>Predefined Command Classes</div><div id="ww1024131" class="Body">There are two subclasses for common needs:</div><div id="ww1024132" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><span class="ClassName"><a href="../RefMan/refcppstudio/classIlvStClickAddObject.html">IlvStClickAddObject</a></span> to add a new object to the current buffer.</div><div id="ww1024133" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><span class="ClassName"><a href="../RefMan/refcppstudio/classIlvStShowPanel.html">IlvStShowPanel</a></span> to display a panel on the screen. The construction of the instance uses the panel to be displayed. If the panel is already visible, this command just hides the panel.</div><div id="ww1024134" class="Heading3"><span></span>Executing a Command</div><div id="ww1024135" class="Body">If the editor is requested to execute a command and it fails, the corresponding error is returned by the command execution procedure and is managed by the editor. If it succeeds, the list of messages associated with the command are sent by the editor. It means that the subscriptions attached to each message are executed.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright © 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>