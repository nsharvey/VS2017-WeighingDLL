<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Defining a New Buffer</title><link rel="Prev" href="extensions.38.05.html" title="Previous" /><link rel="Next" href="extensions.38.07.html" title="Next" /><link rel="StyleSheet" href="css/extensions.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/extensions_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/UserManuals/extensions.38.06.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pxrllCe_002fdDQ5XVpRIyivVYw" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/UserManuals/extensions.38.06.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/ctrusrfrontcover.html#wwconnect_header">Gadgets</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/ctrusrpart1.html#ww144909">Creating GUI Applications with Rogue Wave&nbsp;Views Studio</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/extensions.38.01.html#wwconnect_header">Extending Rogue Wave&nbsp;Views Studio</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/extensions.38.02.html#wwconnect_header">Extending Rogue Wave&nbsp;Views Studio Components </a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Defining a New Buffer</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww1024156" class="Heading2"><span></span>Defining a New Buffer</div><div id="ww1024158" class="Body">A buffer is a document that is edited in Rogue WaveÂ®&nbsp;Views Studio. It uses an <span class="ClassName"><a href="../RefMan/refcppmanager/classIlvManager.html">IlvManager</a></span> to display, edit, save, and read its contents. If you need to subclass the manager to save more information concerning your objects, for example, you have to subclass a corresponding buffer. The <span class="ClassName"><a href="../RefMan/refcppstudio/classIlvStBuffer.html">IlvStBuffer</a></span> class is defined to encapsulate the <span class="ClassName"><a href="../RefMan/refcppmanager/classIlvManager.html">IlvManager</a></span>, and the <span class="ClassName"><a href="../RefMan/refcppstudio/classIlvStGadgetBuffer.html">IlvStGadgetBuffer</a></span> class is defined to encapsulate an <span class="ClassName"><a href="../RefMan/refcppmanager/classIlvGadgetManager.html">IlvGadgetManager</a></span>. These classes are declared in the file <span class="code">&lt;ivstudio/stbuffer.h&gt;</span> and <span class="code">&lt;ivstudio/gadgets/gadbuf.h&gt;</span>. If you need to define a specialized manager class to edit and save your graphic objects, you have to define a corresponding buffer class.</div><div id="ww1024161" class="Heading3"><span></span>Registering Buffer Types</div><div id="ww1024162" class="Body">When loading a <span class="code">.ilv</span> file, Rogue Wave&nbsp;Views Studio first reads the file <span style="font-style: italic">creator class</span> information to determine the type of the buffer that must be created for editing this file. For example, when reading a file saved by an <span class="ClassName"><a href="../RefMan/refcppmanager/classIlvGadgetManager.html">IlvGadgetManager</a></span>, Rogue Wave&nbsp;Views Studio sees that the creator class of that <span class="code">.ilv</span> file is <span class="ClassName"><a href="../RefMan/refcppmanager/classIlvGadgetManagerOutputFile.html">IlvGadgetManagerOutputFile</a></span> and then creates an <span class="ClassName"><a href="../RefMan/refcppstudio/classIlvStGadgetBuffer.html">IlvStGadgetBuffer</a></span>. This is made possible by the <span class="MethodName"><a href="../RefMan/refcppstudio/classIlvStBuffers.html#a15ed5c99b4dcb5166ecf90e4125c1c88">registerType</a></span> function that allows you to associate a buffer constructor function with a file creator class. Use this function to register your own buffer types. Rogue Wave&nbsp;Views Studio uses an <span class="ClassName"><a href="../RefMan/refcppstudio/classIlvStBuffers.html">IlvStBuffers</a></span> object to manage all the buffers. You can obtain a reference to this object by calling the <span class="MethodName"><a href="../RefMan/refcppstudio/classIlvStudio.html#a3d888a91f6fcf235aff09a05383a6cf9">buffers</a></span> function:</div><div id="ww1024163" class="NormalCode">static IlvStBuffer*</div><div id="ww1024164" class="NormalCode">MakeMyBuffer(IlvStudio* editor, const char* name, const char*)</div><div id="ww1024165" class="NormalCode">{</div><div id="ww1024166" class="NormalCode">    // MyGadgetBuffer is a subtype of IlvStBuffer.</div><div id="ww1024167" class="NormalCode">    return new MyGadgetBuffer(editor, name);</div><div id="ww1024168" class="NormalCode">}</div><div id="ww1024169" class="NormalCode">&nbsp;</div><div id="ww1024170" class="NormalCode">...</div><div id="ww1024171" class="NormalCode">    editor-&gt;buffers().registerType("MyGadgetManagerOutput", </div><div id="ww1024172" class="NormalCode">                                    MakeMyBuffer);</div><div id="ww1024173" class="LastNormalCode">...</div><div id="ww1024175" class="Heading3"><span></span>Panel Classes</div><div id="ww1024176" class="Body">An <span class="ClassName"><a href="../RefMan/refcppstudio/classIlvStPanelClass.html">IlvStPanelClass</a></span> object is a Rogue Wave&nbsp;Views Studio object that describes the C++ panel class you wish to generate for a buffer. It contains all the information that Rogue Wave&nbsp;Views Studio requires to generate a subclass of <span class="ClassName"><a href="../RefMan/refcppfoundation/classIlvContainer.html">IlvContainer</a></span> using the data edited in your buffer. </div><div id="ww1024177" class="Body">An <span class="ClassName"><a href="../RefMan/refcppstudio/classIlvStPanelClass.html">IlvStPanelClass</a></span> object contains the class name, the base class, the base name of the file, the directories where the files are generated, and so on. Some of its properties are related to the type of the corresponding buffer, for example, the base class: a Gadgets buffer (<span class="ClassName"><a href="../RefMan/refcppstudio/classIlvStGadgetBuffer.html">IlvStGadgetBuffer</a></span>) is used to generate a subclass of <span class="ClassName"><a href="../RefMan/refcppgadgets/classIlvGadgetContainer.html">IlvGadgetContainer</a></span>, while a 2D buffer (<span class="code">IlvStBuffer</span>) is used to generate a subclass of <span class="ClassName"><a href="../RefMan/refcppfoundation/classIlvContainer.html">IlvContainer</a></span>. </div><div id="ww1024178" class="Body">Let us suppose that you have defined the class <span class="code">MyContainer</span>, a subclass of <span class="ClassName"><a href="../RefMan/refcppgadgets/classIlvGadgetContainer.html">IlvGadgetContainer</a></span> that can read additional information saved by your manager. You will then want the generated class to derive from <span class="code">MyContainer</span>. You may specify the base class in the Panel Class inspector each time you create a panel class using your buffer, but the best way is to automatically set up the panel class so its base class defaults to <span class="code">MyContainer</span>. </div><div id="ww1024179" class="Body">You can do this by defining the <span class="code">setUpPanelClass</span> virtual member function for your buffer. This function is called when Rogue Wave&nbsp;Views Studio creates a panel class from your buffer.</div><div id="ww1024180" class="NormalCode">void</div><div id="ww1024181" class="NormalCode">MyBuffer::setUpPanelClass(IlvStPanelClass* pclass) const</div><div id="ww1024182" class="NormalCode">{</div><div id="ww1024183" class="NormalCode">    IlvStGadgetBuffer::setUpPanelClass(pclass);</div><div id="ww1024184" class="NormalCode">    pclass-&gt;setBaseClass("MyContainer");</div><div id="ww1024185" class="LastNormalCode">}</div><div id="ww1024186" class="Heading3"><span></span>Integrating Customized Container Classes</div><div id="ww1024187" class="Body">In many situations, Rogue Wave&nbsp;Views Studio creates instances of containers. For example, when you test a panel or add it to the Application buffer window. To select the appropriate classes Rogue Wave&nbsp;Views&nbsp;Studio uses a set of container information objects. An <span class="ClassName"><a href="../RefMan/refcppstudio/classIlvStContainerInfo.html">IlvStContainerInfo</a></span> object provides the information that Rogue Wave&nbsp;Views Studio needs about a container subclass, and creates instances of that subclass.</div><div id="ww1024189" class="Body">To integrate a class of containers, you have to define a subclass of <span class="ClassName"><a href="../RefMan/refcppstudio/classIlvStContainerInfo.html">IlvStContainerInfo</a></span> and add an instance of this class to the Rogue Wave&nbsp;Views&nbsp;Studio container information set as follows:</div><div id="ww1024190" class="LastNormalCode">studio-&gt;addContainerInfo(myContainerInfo);</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright Â© 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>