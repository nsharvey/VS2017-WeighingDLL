<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Creating the Header File</title><link rel="Prev" href="graphicobjects.03.17.html" title="Previous" /><link rel="Next" href="graphicobjects.03.19.html" title="Next" /><link rel="StyleSheet" href="css/graphicobjects.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/graphicobjects_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/UserManuals/graphicobjects.03.18.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pGoPJYI8WakU1sgTtBPUW6w" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/UserManuals/graphicobjects.03.18.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/foundusrfrontcover.html#wwconnect_header">Foundation</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/graphicobjects.03.01.html#wwconnect_header">Graphic Objects</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/graphicobjects.03.15.html#wwconnect_header">Creating a new Graphic Object Class</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Creating the Header File</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww1687" class="Heading2"><span></span>Creating the Header File</div><div id="ww168619" class="Body">For this <a href="../UserManuals/graphicobjects.03.15.html#ww18945" title="Creating a new Graphic Object Class">example</a>, you create a header file that declares the new class and the necessary overloaded member functions. </div><div id="ww14698" class="Body">The header file <span class="code">shadellp.h</span> contains the following lines:</div><div id="ww12030" class="NormalCode">#define DefaultShadowThickness 4 </div><div id="ww12031" class="NormalCode">&nbsp;</div><div id="ww12032" class="NormalCode">class  ShadowEllipse </div><div id="ww12033" class="NormalCode">: public IlvSimpleGraphic {</div><div id="ww12034" class="NormalCode">public:</div><div id="ww12035" class="NormalCode">    ShadowEllipse(IlvDisplay*    display,</div><div id="ww12036" class="NormalCode">                     const IlvRect&amp; rect,</div><div id="ww12037" class="NormalCode">                     IlUShort      thickness = DefaultShadowThickness,</div><div id="ww12038" class="NormalCode">                     IlvPalette*    palette   = 0)</div><div id="ww12039" class="NormalCode">    : IlvSimpleGraphic(display, palette),</div><div id="ww12040" class="NormalCode">      _rect(rect), _thickness(thickness)</div><div id="ww12041" class="NormalCode">    {</div><div id="ww12042" class="NormalCode">        _invertedPalette = 0;</div><div id="ww12043" class="NormalCode">        computeInvertedPalette();</div><div id="ww12044" class="NormalCode">    }</div><div id="ww12045" class="NormalCode">    ~ShadowEllipse();</div><div id="ww12046" class="NormalCode">&nbsp;</div><div id="ww12047" class="NormalCode">    virtual void draw(IlvPort*, const IlvTransformer* t = 0,</div><div id="ww12048" class="NormalCode">                      const IlvRegion* clip = 0) const;</div><div id="ww12049" class="NormalCode">    virtual IlBoolean contains(const IlvPoint&amp; p,</div><div id="ww12050" class="NormalCode">                                const IlvPoint&amp; tp,</div><div id="ww12051" class="NormalCode">                                const IlvTransformer* t) const;</div><div id="ww12052" class="NormalCode">    virtual void boundingBox(IlvRect&amp; rect,</div><div id="ww12053" class="NormalCode">                             const IlvTransformer* t = 0) const;</div><div id="ww12054" class="NormalCode">    virtual void applyTransform(const IlvTransformer* t);</div><div id="ww12055" class="NormalCode">    IlUShort getThickness() const</div><div id="ww12056" class="NormalCode">        { return  _thickness; }</div><div id="ww12057" class="NormalCode">    void      setThickness(IlUShort thickness)</div><div id="ww12058" class="NormalCode">        { _thickness = thickness; }</div><div id="ww12059" class="NormalCode">&nbsp;</div><div id="ww12060" class="NormalCode">    virtual void setBackground(IlvColor* c);</div><div id="ww12061" class="NormalCode">    virtual void setForeground(IlvColor* c);</div><div id="ww12062" class="NormalCode">    virtual void setMode(IlvDrawMode m);</div><div id="ww12063" class="NormalCode">    virtual void setPalette(IlvPalette* p);</div><div id="ww12064" class="NormalCode">&nbsp;</div><div id="ww12065" class="NormalCode">    DeclareTypeInfo();</div><div id="ww12066" class="NormalCode">    DeclareIOConstructors(ShadowEllipse);</div><div id="ww12067" class="NormalCode">protected:</div><div id="ww12068" class="NormalCode">    IlvRect     _rect;</div><div id="ww12069" class="NormalCode">    IlUShort   _thickness;</div><div id="ww12070" class="NormalCode">    IlvPalette* _invertedPalette;</div><div id="ww12071" class="NormalCode">    void computeInvertedPalette();</div><div id="ww12028" class="LastNormalCode">};</div><div id="ww168626" class="Body">This object, like a few others in the standard Rogue Wave&nbsp;Views library, makes use of two different <span class="ClassName"><a href="../RefMan/refcppfoundation/classIlvPalette.html">IlvPalette</a></span> objects. This is a common practice when you want your object to be very efficient in terms of drawing time, since you do not need to create dummy palette objects when drawing the ellipse itself and its shadow.</div><div id="ww168630" class="Body">The <span class="code">ShadowEllipse</span> class defines the member functions <span class="code">draw</span>, <span class="code">contains</span>, and <span class="code">boundingBox</span>. It also defines the necessary palette-management related member functions to update both the standard palette object (the one stored in the <span class="ClassName"><a href="../RefMan/refcppfoundation/classIlvSimpleGraphic.html">IlvSimpleGraphic</a></span> class) and the new one, <span class="code">_invertedPalette</span>.</div><div id="ww168631" class="Body">No input/output member functions are declared in this synopsis. In fact, they are declared by the <span class="code">DeclareTypeInfo</span> macro that declares them as external. These member functions are <span class="code">read</span>, <span class="code">write</span>, and <span class="code">copy</span>. They have no default implementation, and you must provide a version of these for each of your subclasses of the <span class="ClassName"><a href="../RefMan/refcppfoundation/classIlvGraphic.html">IlvGraphic</a></span> class. There is a second version of this macro, called <span class="code">DeclareTypeInfoRO</span>, that does not declare the member function <span class="code">write</span>, if you know this object type will never be saved.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright Â© 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>