<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Using IlvAbstractMatrix</title><link rel="Prev" href="matrix.47.2.html" title="Previous" /><link rel="Next" href="matrix.47.4.html" title="Next" /><link rel="StyleSheet" href="css/matrix.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/matrix_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/UserManuals/matrix.47.3.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pnH_002bwRhLhTY3HiHJeaAVknQ" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/UserManuals/matrix.47.3.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/ctrusrfrontcover.html#wwconnect_header">Gadgets</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/ctrusrpart2.html#ww997005">Rogue Wave&nbsp;Views Gadgets</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/matrix.47.1.html#wwconnect_header">Matrices</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Using IlvAbstractMatrix</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww1007854" class="Heading1"><span></span>Using IlvAbstractMatrix</div><div id="ww1008378" class="Body">The class <span class="ClassName"><a href="../RefMan/refcppgadgets/classIlvAbstractMatrix.html">IlvAbstractMatrix</a></span> is an abstract class for drawing matrices. Several of its member functions are virtual and must be redefined in subclasses. This class allows you to specify whether items should extend over several rows or columns, and also how many fixed rows and columns a matrix should contain. It also manages scrolling.</div><div id="ww1010863" class="Body">This section covers the following topics:</div><div id="ww1010864" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><a href="../UserManuals/matrix.47.3.html#ww1009799" title="Using IlvAbstractMatrix">Subclassing IlvAbstractMatrix</a></div><div id="ww1010868" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><a href="../UserManuals/matrix.47.3.html#ww1008404" title="Using IlvAbstractMatrix">Drawing Items Over Multiple Cells</a></div><div id="ww1010873" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><a href="../UserManuals/matrix.47.3.html#ww1008432" title="Using IlvAbstractMatrix">Setting Fixed Rows and Columns</a></div><div id="ww1010878" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><a href="../UserManuals/matrix.47.3.html#ww1008439" title="Using IlvAbstractMatrix">Handling Events</a></div><div id="ww1009799" class="Subhead"><span></span>Subclassing IlvAbstractMatrix</div><div id="ww1022857" class="Body">The class <span class="ClassName"><a href="../RefMan/refcppgadgets/classIlvAbstractMatrix.html">IlvAbstractMatrix</a></span> does not contain any values. It provides a set of pure virtual member functions that must be implemented in subclasses:</div><div id="ww1022862" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><span class="MethodName"><a href="../RefMan/refcppgadgets/classIlvAbstractMatrix.html#ac288449fd901d766e83248c11222aa9b">rows</a></span> and <span class="MethodName"><a href="../RefMan/refcppgadgets/classIlvAbstractMatrix.html#abf6e9826bfee2e5931b637c199b4f602">columns</a></span> must return the number of rows and columns in the matrix.</div><div id="ww1009816" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><span class="MethodName"><a href="../RefMan/refcppgadgets/classIlvAbstractMatrix.html#a07be17f32f8c3b0e58e59a2d0e47957f">rowSameHeight</a></span> and <span class="MethodName"><a href="../RefMan/refcppgadgets/classIlvAbstractMatrix.html#af660413650d9e133fedcc8b7584423c6">columnSameWidth</a></span> must return <span class="code">IlTrue</span> if all the rows and columns should have the same height and width. </div><div id="ww1009845" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><span class="MethodName"><a href="../RefMan/refcppgadgets/classIlvAbstractMatrix.html#ac13ded49297879dee0cd411c68746960">getRowHeight</a></span> and <span class="MethodName"><a href="../RefMan/refcppgadgets/classIlvAbstractMatrix.html#aa63a3a7416b63d1645dbd7ae23f751ef">getColumnWidth</a></span> must return the height of each row and the width of each column. If <span class="code">rowSameHeight</span> returns <span class="code">IlTrue</span>, <span class="code">getRowHeight(0)</span> returns the height of the rows and <span class="code">getColumnWidth(0)</span> returns the width of the columns. </div><div id="ww1009860" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><span class="MethodName"><a href="../RefMan/refcppgadgets/classIlvAbstractMatrix.html#a37095a3991137c6369c7970377897845">drawItem</a></span> draws an item in a matrix at the specified location defined by a row and a column number. This member function also specifies the bounding box of the matrix item and a clip rectangle. </div><div id="ww1008404" class="Subhead"><span></span>Drawing Items Over Multiple Cells</div><div id="ww1009886" class="Body">You can have items extend to multiple rows and columns. To enable this feature, you must set the Boolean member value <span class="code">_allowCellMode</span> to <span class="code">IlTrue</span> in the <span class="ClassName"><a href="../RefMan/refcppgadgets/classIlvAbstractMatrix.html">IlvAbstractMatrix</a></span> constructor. Also, you must redefine <span class="MethodName"><a href="../RefMan/refcppgadgets/classIlvAbstractMatrix.html#a3a92c824a8113c3fa81ce459b4bc9ddf">cellInfo</a></span>. This member function specifies how many rows and columns the matrix item spans and the position of its top-left cell. </div><div id="ww1010949" class="Body">In the following example, the matrix item is defined to start at position (10,10) and to occupy five rows and five columns:</div><div id="ww1014434" class="NormalCode">if ((colno &gt;= 10) &amp;&amp; (colno &lt; 15) &amp;&amp;</div><div id="ww1014415" class="NormalCode">       (rowno &gt;= 10) &amp;&amp; (rowno &lt; 15))</div><div id="ww1014416" class="NormalCode">   {</div><div id="ww1014417" class="NormalCode">      startcol = 10;</div><div id="ww1014418" class="NormalCode">      startrow = 10;</div><div id="ww1014419" class="NormalCode">      nbcol = 5;</div><div id="ww1014420" class="NormalCode">      nbrow = 5;</div><div id="ww1014421" class="NormalCode">   }</div><div id="ww1014422" class="NormalCode">   else</div><div id="ww1014423" class="NormalCode">      IlvAbstractMatrix::cellInfo(colno, rowno, </div><div id="ww1014424" class="NormalCode">                                  startcol, startrow,</div><div id="ww1020580" class="LastNormalCode">                                  nbcol, nbrow);</div><div id="ww1020584" class="Body"> </div><div class="ww_skin_page_overflow"><table class="NoteTable" cellspacing="0" summary=""><tr><td style="padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top"><div id="ww1020583" class="Note"><span class="flag">Note:&nbsp;</span>Items extending over several rows and columns cannot overlap. </div></td></tr></table></div><div id="ww1020585" class="Body">When this member function is redefined, only the top-left cell is drawn (see <span class="MethodName"><a href="../RefMan/refcppgadgets/classIlvAbstractMatrix.html#a37095a3991137c6369c7970377897845">drawItem</a></span>). The rectangle passed to the <span class="code">drawItem</span> member function encompasses all the rows and columns that the matrix item covers.</div><div id="ww1008432" class="Subhead"><span></span>Setting Fixed Rows and Columns</div><div id="ww1008434" class="Body">You can specify that a number of rows and columns in a matrix remain fixed. Fixed rows and columns are always visible even when the user scrolls the matrix. Only the leftmost columns and the topmost rows can be fixed. </div><div id="ww1010968" class="Body">To have fixed rows or columns, use <span class="MethodName"><a href="../RefMan/refcppgadgets/classIlvAbstractMatrix.html#af3f710c99534dc457e4be91b058f70fe">setNbFixedRow</a></span> and <span class="MethodName"><a href="../RefMan/refcppgadgets/classIlvAbstractMatrix.html#a737d4ffc64722fe3421793cbd8273391">setNbFixedColumn</a></span>.</div><div id="ww1008439" class="Subhead"><span></span>Handling Events </div><div id="ww1022849" class="Body">The class <span class="ClassName"><a href="../RefMan/refcppgadgets/classIlvAbstractMatrix.html">IlvAbstractMatrix</a></span> does not define particular behaviors. </div><div id="ww1022850" class="Body">The member function <span class="code">IlvAbstractMatrix::</span><span class="code">handleEvent</span> simply handles events related to scrollbars, if the matrix has scrollbars, and calls <span class="MethodName"><a href="../RefMan/refcppgadgets/classIlvAbstractMatrix.html#a0633811a606132dfdfa6d81552040649">handleMatrixEvent</a></span>. </div><div id="ww1012733" class="Body">If you want to implement a specific behavior for a matrix, you must redefine this member function in a subclass. </div><div id="ww1011268" class="Body">The following methods can help you write the behavior for your class:</div><div id="ww1008445" class="NormalCode">virtual IlBoolean  pointToPosition(const IlvPoint&amp; p,</div><div id="ww1008446" class="NormalCode">                                   IlUShort&amp; colno,</div><div id="ww1008447" class="NormalCode">                                   IlUShort&amp; rowno,</div><div id="ww1008448" class="LastNormalCode">                                   const IlvTransformer* t = 0) const;</div><div id="ww1008449" class="FirstBody" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6.0pt; margin-top: 10.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Times New Roman&quot;; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline">This method returns, in </span><span class="code">colno</span> and <span class="code">rowno</span>, the location of the item which is under the point <span class="code">p</span> when the matrix is displayed using the transformer <span class="code">t</span>. The returned value is <span class="code">IlTrue</span> if there is an item at this location, or <span class="code">IlFalse</span> if there is none.</div><div id="ww1008451" class="NormalCode">IlBoolean rowBBox(IlUShort rowno,</div><div id="ww1008452" class="NormalCode">                   IlvRect&amp; rect,</div><div id="ww1008453" class="NormalCode">                   const IlvTransformer* t = 0) const;</div><div id="ww1008455" class="NormalCode">IlBoolean columnBBox(IlUShort colno,</div><div id="ww1008456" class="NormalCode">                      IlvRect&amp; rect,</div><div id="ww1008457" class="NormalCode">                      const IlvTransformer* t = 0) const; </div><div id="ww1008459" class="NormalCode">IlBoolean cellBBox(IlUShort colno,</div><div id="ww1008460" class="NormalCode">                    IlUShort rowno,</div><div id="ww1008461" class="NormalCode">                    IlvRect&amp; rect,</div><div id="ww1008462" class="LastNormalCode">                    const IlvTransformer* t = 0) const;</div><div id="ww1008679" class="FirstBody" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6.0pt; margin-top: 10.0pt; text-transform: none; vertical-align: baseline"><span style="color: #000000; font-family: &quot;Times New Roman&quot;; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline">The above methods compute in </span><span class="code">rect</span> the bounding box of a column, a row, or a cell when the matrix is drawn with the transformer <span class="code">t.</span>The method returns <span class="code">IlTrue</span> if the item is visible (even partially), or <span class="code">IlFalse</span> if it is not. </div><div id="ww1008689" class="Body">To redraw a column, use the <span class="MethodName"><a href="../RefMan/refcppgadgets/classIlvAbstractMatrix.html#a4355a7d464a22d59d0d0868bd14f7144">invalidateColumn</a></span> method. To redraw a row, use the <span class="MethodName"><a href="../RefMan/refcppgadgets/classIlvAbstractMatrix.html#ab067860174293fa2e42352ac405720bf">invalidateRow</a></span> method.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright Â© 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>