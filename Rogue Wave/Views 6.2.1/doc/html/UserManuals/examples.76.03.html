<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Subclassing IlvGanttChart</title><link rel="Prev" href="examples.76.02.html" title="Previous" /><link rel="Next" href="examples.76.04.html" title="Next" /><link rel="StyleSheet" href="css/examples.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/examples_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/UserManuals/examples.76.03.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pN2TRnim5_002fxHCY4ShblwdySw" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/UserManuals/examples.76.03.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/ganttusrfrontcover.html#wwconnect_header">Gantt</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/examples.76.01.html#wwconnect_header">Using the Gantt Chart Through Examples</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Subclassing IlvGanttChart</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww1005694" class="Heading1"><span></span>Subclassing IlvGanttChart</div><div id="ww1005695" class="Body">Some methods of the <span class="ClassName"><a href="../RefMan/refcppgantt/classIlvGanttChart.html">IlvGanttChart</a></span> class are virtual. These functions are called when the internal states of the Gantt chart are being changed or special actions are taken on the Gantt chart. Users are invited to subclass the <span class="ClassName"><a href="../RefMan/refcppgantt/classIlvGanttChart.html">IlvGanttChart</a></span> class for two purposes:</div><div id="ww1005696" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>The virtual functions are called to indicate internal events of the Gantt chart.</div><div id="ww1005697" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>The function can be implemented by users to meet their special needs. The new implementation changes the behavior of the Gantt chart. </div><div id="ww1005698" class="Body">In the <span class="code">month</span> example, we show how to override some virtual functions of the <span class="ClassName"><a href="../RefMan/refcppgantt/classIlvGanttChart.html">IlvGanttChart</a></span> to customize the grid of the Gantt chart. Here is the definition of the <span class="code">MonthGanttChart</span> class:</div><div id="ww1006156" class="NormalCode">class MonthGanttChart</div><div id="ww1006157" class="NormalCode">: public LoadGanttChart</div><div id="ww1006158" class="NormalCode">{</div><div id="ww1006159" class="NormalCode">public:</div><div id="ww1006160" class="NormalCode">    MonthGanttChart(IlvDisplay* display,         const IlvRect&amp; rect,</div><div id="ww1006161" class="NormalCode">                    IlvInt      start,           IlvInt         end,</div><div id="ww1006162" class="NormalCode">                    IlvUShort   step,            IlvUShort      day,</div><div id="ww1006163" class="NormalCode">                    IlvDim      rowsize,         IlvDim         unitsize=40,</div><div id="ww1006164" class="NormalCode">                    IlvUShort   gridThickness=4, IlvPalette*    palette = 0)</div><div id="ww1006165" class="NormalCode">        : LoadGanttChart(display, rect, start, end, start, start+7*24,</div><div id="ww1006166" class="NormalCode">                         step, rowsize, unitsize, gridThickness, palette),</div><div id="ww1006167" class="NormalCode">            _day(day) { makeHolidayPalette(display); }</div><div id="ww1006168" class="NormalCode">    virtual ~MonthGanttChart();</div><div id="ww1006169" class="NormalCode">    // ___________________________________________________</div><div id="ww1006170" class="NormalCode">    virtual void drawGrid(IlvPort* dst, IlvUShort index,</div><div id="ww1006171" class="NormalCode">                          IlvBoolean skipCompute=IlFalse,</div><div id="ww1006172" class="NormalCode">                          const IlvRegion* clip=0,</div><div id="ww1006173" class="NormalCode">  IlvTransformer* t=0,</div><div id="ww1006174" class="NormalCode">  IlvDirection d=(IlvDirection)(IlvHorizontal|IlvVertical));</div><div id="ww1006175" class="NormalCode">    virtual IlvScale* createScale(IlvDisplay*, const IlvPoint&amp; orig,</div><div id="ww1006176" class="NormalCode">                                  IlvDim size, IlvInt start, IlvInt end,</div><div id="ww1006177" class="NormalCode">                                  IlvUShort step, IlvPosition p=IlvTop) const;</div><div id="ww1006178" class="NormalCode">    virtual void  updateScale(IlvScale*, IlvBoolean redraw=IlTrue) const;</div><div id="ww1006179" class="NormalCode">    void computeScaleLabels(IlvInt start, IlvInt end, IlvUShort step,</div><div id="ww1006180" class="NormalCode">                            IlvUShort&amp; count, char** labels) const;</div><div id="ww1006181" class="NormalCode">    IlvUShort getDay() const { return _day; }</div><div id="ww1006182" class="NormalCode">    DeclareTypeInfo();</div><div id="ww1006183" class="NormalCode">    DeclareIOConstructors(MonthGanttChart);</div><div id="ww1006184" class="NormalCode">protected:</div><div id="ww1006185" class="NormalCode">    IlvUShort   _day;</div><div id="ww1006186" class="NormalCode">    IlvPalette* _holidayPalette;</div><div id="ww1006187" class="NormalCode">    void makeHolidayPalette(IlvDisplay*);</div><div id="ww1006188" class="LastNormalCode">};</div><div id="ww1005739" class="Body">As you may have noticed, the virtual functions <span class="code">drawGrid()</span>, <span class="code">createScale()</span>, and <span class="code">updateScale()</span> are overridden.</div><div id="ww1005740" class="Body">The height and position of the scales can be specified in the Gantt chart constructor. By default, the height is <span class="code">32</span> and the location is at the top of the Gantt chart.</div><div class="ww_skin_page_overflow"><table class="NoteTable" cellspacing="0" summary=""><tr><td style="padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top"><div id="ww1008371" class="Note"><span class="flag">Note:&nbsp;</span><span style="color: #000000; font-family: &quot;Times New Roman&quot;; font-size: 10.0pt; font-style: italic; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline">If you want to use the </span><span class="code">copy</span> constructor of the <span class="code">IlvGanttChart</span> class (or <span class="code">IlvGanttChartForm</span> class), make sure that all the items of the Gantt chart (like grid or resources) are not duplicated. When you use these constructors, you must manage the copy of the data and of the graphic objects like the grid.</div></td></tr></table></div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright © 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>