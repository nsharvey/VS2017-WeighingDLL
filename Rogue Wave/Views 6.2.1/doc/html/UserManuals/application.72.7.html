<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Creating Prototypes by Coding</title><link rel="Prev" href="application.72.6.html" title="Previous" /><link rel="Next" href="application.72.8.html" title="Next" /><link rel="StyleSheet" href="css/application.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/application_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/UserManuals/application.72.7.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pN_002f6pB3ujsfNo2facmvUu0yA" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/UserManuals/application.72.7.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/twodgfrontcover.html#wwconnect_header">2D Graphics</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/twodgpart3.html#ww144909">Prototypes</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/application.72.1.html#wwconnect_header">Using Prototypes in C++ Applications</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../UserManuals/application.72.5.html#wwconnect_header">Advanced Uses of Prototypes</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Creating Prototypes by Coding</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww926865" class="Heading2"><span></span>Creating Prototypes by Coding</div><div id="ww926709" class="Body">Prototypes are meant to be designed graphically using Rogue Wave®&nbsp;Views Studio. In some cases, however, you may need to create prototypes or to modify existing prototypes from a C++ program. This section explains how you can create prototypes by coding in C++ instead of designing them with Rogue Wave&nbsp;Views Studio.</div><div id="ww926761" class="Heading3"><span></span>Creating a New Prototype</div><div id="ww928434" class="Body">A prototype is represented by an instance of the <span class="ClassName"><a href="../RefMan/refcppprotos/classIlvPrototype.html">IlvPrototype</a></span> class. To create a new prototype, use the following constructor:</div><div id="ww928435" class="LastNormalCode">IlvPrototype* proto = new IlvPrototype("myPrototype");</div><div id="ww926762" class="Heading3"><span></span>Adding Graphic Nodes</div><div id="ww928436" class="Body">The first step is to define the graphic appearance of the prototype. This is done by adding nodes containing graphic objects. For this, you create instances of the <span class="ClassName"><a href="../RefMan/refcppprotos/classIlvGraphicNode.html">IlvGraphicNode</a></span> class and add them to the prototype using the <span class="code">addNode</span> method.</div><div id="ww928439" class="NormalCode">IlvLabel* label = new IlvLabel(display, 100, 100, "Hello");</div><div id="ww933934" class="NormalCode">IlvGraphicNode* node = new IlvGraphicNode(label, "label", IlTrue);</div><div id="ww933935" class="LastNormalCode">proto-&gt;addNode(node);</div><div id="ww928446" class="Body">The <span class="ClassName"><a href="../RefMan/refcppprotos/classIlvGraphicNode.html">IlvGraphicNode</a></span> constructor has three parameters:</div><div id="ww952074" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>An <span class="ClassName"><a href="../RefMan/refcppfoundation/classIlvGraphic.html">IlvGraphic</a></span>: the graphic object to include in the prototype.</div><div id="ww952075" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>A string: the name of the node.</div><div id="ww952076" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>A Boolean: specifies whether a local transformer should be associated with the graphic node. (See the <span class="ClassName"><a href="../RefMan/refcppprotos/classIlvGraphicNode.html">IlvGraphicNode</a></span> class for details.)</div><div id="ww952077" class="Body">You must give different names to the graphic nodes of your prototype if you need to reference them in accessor parameters.</div><div id="ww926765" class="Heading3"><span></span>Adding Subgroups</div><div id="ww928449" class="Body">You can create hierarchical objects by adding a subgroup to your prototype. To do this, you must add a node that is an instance of the <span class="ClassName"><a href="../RefMan/refcppprotos/classIlvSubGroupNode.html">IlvSubGroupNode</a></span> class. This subgroup can be an <span class="ClassName"><a href="../RefMan/refcppprotos/classIlvGroup.html">IlvGroup</a></span> that you build yourself by adding graphic nodes to it, or it can be an instance of another prototype:</div><div id="ww928455" class="NormalCode">// Add a sub-group:</div><div id="ww933951" class="NormalCode">IlvGroup* subgroup = new IlvGroup("subgroup");</div><div id="ww933952" class="NormalCode">IlvLine* line1 = new IlvLine(display, IlvPoint(100, 100),</div><div id="ww933953" class="NormalCode">                                      IlvPoint(200, 200));</div><div id="ww933954" class="NormalCode">subgroup-&gt;addNode(new IlvGraphicNode(line1, "line1"));</div><div id="ww933955" class="NormalCode">IlvLine* line2 = new IlvLine(display, IlvPoint(100, 200),</div><div id="ww933956" class="NormalCode">                                      IlvPoint(200, 100));</div><div id="ww933957" class="NormalCode">subgroup-&gt;addNode(new IlvGraphicNode(line2, "line2"));</div><div id="ww933958" class="NormalCode">proto-&gt;addNode(new IlvSubGroupNode(subgroup));</div><div id="ww933959" class="NormalCode">// Add a prototype instance as a sub-group:</div><div id="ww933960" class="NormalCode">IlvPrototype* proto = IlvLoadPrototype("samples.pump", display);</div><div id="ww933961" class="NormalCode">IlvProtoInstance* instance = proto-&gt;clone();</div><div id="ww933962" class="LastNormalCode">proto-&gt;addNode(new IlvSubGroupNode(instance));</div><div id="ww926763" class="Heading3"><span></span>Adding Accessor Objects</div><div id="ww928466" class="Body">Once you have “drawn” your prototype by adding graphic objects to it, you can define its properties and specify the effect of changing these properties. To do this, you add accessor objects to your prototype. Accessor objects are instances of subclasses of <span class="ClassName"><a href="../RefMan/refcppprotos/classIlvUserAccessor.html">IlvUserAccessor</a></span>.</div><div id="ww928467" class="Body">To add an accessor object to your prototype, create an instance of the appropriate subclass of <span class="ClassName"><a href="../RefMan/refcppprotos/classIlvUserAccessor.html">IlvUserAccessor</a></span> and call the <span class="code">addAccessor</span> method. For example, the following code adds two accessor objects to a prototype: an <span class="ClassName"><a href="../RefMan/refcppprotos/classIlvValueAccessor.html">IlvValueAccessor</a></span> that stores a value and an <span class="ClassName"><a href="../RefMan/refcppprotos/classIlvConditionAccessor.html">IlvConditionAccessor</a></span> that tests a condition and changes a attribute according to the result.</div><div id="ww928470" class="NormalCode">proto-&gt;addAccessor(new IlvValueAccessor("v", IlvValueFloatType));</div><div id="ww933970" class="NormalCode">proto-&gt;addAccessor(new IlvConditionAccessor("v", IlvValueFloatType,</div><div id="ww933971" class="NormalCode">                       display,</div><div id="ww933972" class="NormalCode">                       IlvConditionAccessor::IlvCondGreaterThan,</div><div id="ww933973" class="NormalCode">                       "100",</div><div id="ww933974" class="NormalCode">                       "label.label",</div><div id="ww933975" class="NormalCode">                       "Greater than 100",</div><div id="ww933976" class="LastNormalCode">                       "Smaller than 100"));</div><div id="ww928482" class="Body">See the section <a href="../UserManuals/accessors.73.1.html#ww925225" title="Predefined Accessors">Predefined Accessors</a> and the<span class="emphasis"> Rogue Wave&nbsp;Views Prototypes Reference Manual</span> for a complete description of each accessor class.</div><div id="ww926764" class="Heading3"><span></span>Adding the Prototype to a Library</div><div id="ww928483" class="Body">Prototypes must be stored in a prototype library so that they can be saved and reloaded later.</div><div id="ww928486" class="Body">To create a new prototype library, use the <span class="ClassName"><a href="../RefMan/refcppprotos/classIlvProtoLibrary.html">IlvProtoLibrary</a></span> class:</div><div id="ww928489" class="NormalCode">IlvProtoLibrary* protoLib = new IlvProtoLibrary(display,</div><div id="ww933982" class="NormalCode">                                "myLib",</div><div id="ww933983" class="LastNormalCode">                                "/usr/home/myhome/protos");</div><div id="ww928497" class="Body">A prototype library stores its prototypes in a file system directory (<span style="font-family: &quot;Microsoft Sans Serif&quot;; font-size: 9.0pt">"/usr/home/myhome/protos"</span> in the previous example). You can change this directory later using the <span class="code">setPath</span> method.</div><div id="ww928516" class="Body">To add your prototype to the new library, call the <span class="code">addPrototype</span> method:</div><div id="ww928517" class="LastNormalCode">protoLib-&gt;addPrototype(proto);</div><div id="ww927046" class="Heading3"><span></span>Saving the Prototype</div><div id="ww928514" class="Body">To save your prototype, call the <span class="MethodName"><a href="../RefMan/refcppprotos/classIlvAbstractProtoLibrary.html#a032cf5eaa464e951142d00f89856878a">IlvAbstractProtoLibrary::save</a></span> method:</div><div id="ww928515" class="LastNormalCode">myLib-&gt;save(0, IlTrue);</div><div id="ww928518" class="Body">The first parameter is an optional output stream where the library description file is saved. Set it to <span class="code">0</span> so that the description file is saved to its default location (<span style="font-family: &quot;Microsoft Sans Serif&quot;; font-size: 9.0pt">"/usr/home/myhome/protos/myLib.ipl"</span> in the previous example). The second parameter is set to <span class="code">IlTrue</span> to specify that all the prototypes must be saved.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright © 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>