<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Step 3: Adding Docking Bars</title><link rel="Prev" href="viewfile.05.3.html" title="Previous" /><link rel="Next" href="viewfile.05.5.html" title="Next" /><link rel="StyleSheet" href="css/viewfile.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/viewfile_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/Tutorials/viewfile.05.4.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="peW0drBd82bS9AuRDb_002bi55w" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/Tutorials/viewfile.05.4.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../Tutorials/gadgtutfrontcover.html#wwconnect_header">Gadgets</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Tutorials/viewfile.05.1.html#wwconnect_header">The ViewFile Application: Building a Simple File Browser</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Step 3: Adding Docking Bars</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww999256" class="Heading1"><span></span>Step 3: Adding Docking Bars</div><div id="ww1001300" class="Body">This step explains how to add docking bars (menu bars and toolbars) to the ViewFile application. For information on docking panes, see Docking Panes and Containers.</div><div id="ww1003992" class="Body">This step shows you how to perform the following tasks:</div><div id="ww1004006" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><a href="../Tutorials/viewfile.05.4.html#ww1001302" title="Step 3: Adding Docking Bars">Preparing the Main Window for Docking</a></div><div id="ww1004010" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><a href="../Tutorials/viewfile.05.4.html#ww1001340" title="Step 3: Adding Docking Bars">Creating the Docking Toolbar</a></div><div id="ww1004015" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><a href="../Tutorials/viewfile.05.4.html#ww1001363" title="Step 3: Adding Docking Bars">Creating the Docking Menu Bar</a></div><div id="ww1004020" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><a href="../Tutorials/viewfile.05.4.html#ww1001403" title="Step 3: Adding Docking Bars">Integrating Changes into the Application</a></div><div id="ww1004025" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><a href="../Tutorials/viewfile.05.4.html#ww1001407" title="Step 3: Adding Docking Bars">Previewing the Application</a></div><div id="ww1001493" class="Body">All the changes made in this step are reflected in the file <span class="code">viewfile.cpp</span>.</div><div id="ww1001302" class="Subhead"><span></span>Preparing the Main Window for Docking</div><div id="ww1001303" class="Body">Docking panes, and hence docking toolbars and menu bars, must be docked to dockable containers. Therefore, the application main window must be modified to allow docking operations.</div><div id="ww1001304" class="Heading3"><span></span>Modifying the Main Window</div><div id="ww1001305" class="Body"><span class="ClassName"><a href="../RefMan/refcppgadgets/classIlvDockableContainer.html">IlvDockableContainer</a></span>, a subclass of <span class="ClassName"><a href="../RefMan/refcppgadgets/classIlvPanedContainer.html">IlvPanedContainer</a></span>, is the base class for handling docking panes. In this step, the main window is defined as an <span class="ClassName"><a href="../RefMan/refcppgadgets/classIlvDockableMainWindow.html">IlvDockableMainWindow</a></span> object in the member function <span class="code">FileViewerApplication::createMainWindow</span> (see <a href="../Tutorials/viewfile.05.2.html#ww1003554" title="Step 1: Building the Browser Window">Creating the Main Window</a>). <span class="ClassName"><a href="../RefMan/refcppgadgets/classIlvDockableMainWindow.html">IlvDockableMainWindow</a></span> is a subclass of <span class="ClassName"><a href="../RefMan/refcppgadgets/classIlvDockableContainer.html">IlvDockableContainer</a></span> that implements a standard layout for applications incorporating docking panes. See the section “Building a Standard Application with Docking Panes” in Docking Panes and Containers. </div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1007737" class="CodeInTable">IlvContainer* </div><div id="ww1007738" class="CodeInTable">FileViewerApplication::createMainWindow(const IlvRect&amp; rect) const<span style="font-family: &quot;Times New Roman&quot;"> </span></div><div id="ww1007739" class="CodeInTable">{<span style="font-family: &quot;Times New Roman&quot;"> </span></div><div id="ww1007740" class="CodeInTable">    return new IlvDockableMainWindow(getDisplay(),<span style="font-family: &quot;Times New Roman&quot;"> </span></div><div id="ww1007741" class="CodeInTable">                                     getName(),<span style="font-family: &quot;Times New Roman&quot;"> </span></div><div id="ww1007742" class="CodeInTable">                                     getName(),<span style="font-family: &quot;Times New Roman&quot;"> </span></div><div id="ww1007743" class="CodeInTable">                                     rect,<span style="font-family: &quot;Times New Roman&quot;"> </span></div><div id="ww1007744" class="CodeInTable">                                     0,<span style="font-family: &quot;Times New Roman&quot;"> </span></div><div id="ww1007745" class="CodeInTable">                                     IlvFalse);<span style="font-family: &quot;Times New Roman&quot;"> </span></div><div id="ww1007746" class="CodeInTable">}<span style="font-family: &quot;Times New Roman&quot;"> </span></div></td></tr></table></div><div id="ww1002109" class="Body">It is now possible to add docking panes to the application.</div><div id="ww1001315" class="Heading3"><span></span>Preparing the Panes Creation</div><div id="ww1001316" class="Body">The member function <span class="code">FileViewerApplication::makePanels</span> must be modified to include calls to <span class="code">initPanes</span>, which creates the panes, and <span class="code">updatePanes</span>, which updates the paned container layout. See the section “Modifying the Layout of a Paned Containers” in Panes.</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1007763" class="CodeInTable">void </div><div id="ww1007764" class="CodeInTable">FileViewerApplication::makePanels(){ </div><div id="ww1007765" class="CodeInTable">    // Initialize the main window.</div><div id="ww1007766" class="CodeInTable">    initMainWindow(); </div><div id="ww1007767" class="CodeInTable">    // Initialize the panes.</div><div id="ww1007768" class="CodeInTable">    initPanes(); </div><div id="ww1007769" class="CodeInTable">    // Initialize the application.</div><div id="ww1007770" class="CodeInTable">    configureApplication(); </div><div id="ww1007771" class="CodeInTable">    // Update the main window layout.</div><div id="ww1007772" class="CodeInTable">    getMainWindow()-&gt;updatePanes(IlvTrue); </div><div id="ww1007773" class="CodeInTable">    // Show it.</div><div id="ww1007774" class="CodeInTable">    getMainWindow()-&gt;show(); </div><div id="ww1007759" class="CodeInTable">}</div></td></tr></table></div><div id="ww1001331" class="Body">The <span class="code">initPanes</span> member function calls <span class="code">initMenuBar</span>, which creates the menu bar and <span class="code">initToolBar</span>, which creates the toolbar.</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1007790" class="CodeInTable">void </div><div id="ww1007791" class="CodeInTable">FileViewerApplication::initPanes() </div><div id="ww1007792" class="CodeInTable">{ </div><div id="ww1007793" class="CodeInTable">    // Initialize the menu bar.</div><div id="ww1007794" class="CodeInTable">    initMenuBar(); </div><div id="ww1007795" class="CodeInTable">    // Initialize the toolbar.</div><div id="ww1007796" class="CodeInTable">    initToolBar(); </div><div id="ww1007797" class="CodeInTable">} </div></td></tr></table></div><div id="ww1001340" class="Subhead"><span></span>Creating the Docking Toolbar</div><div id="ww1001342" class="Body">The <span class="code">initToolBar</span> member function creates the toolbar:</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1007808" class="CodeInTable">void </div><div id="ww1007809" class="CodeInTable">FileViewerApplication::initToolBar() </div><div id="ww1007810" class="CodeInTable">{ </div><div id="ww1007811" class="CodeInTable">    IlvToolBar* toolbar = new IlvToolBar(getDisplay(), IlvPoint(0, 0)); </div><div id="ww1007812" class="CodeInTable">    // Item Up One Level.</div><div id="ww1007813" class="CodeInTable">    toolbar-&gt;insertBitmap(getBitmap("upBm")); </div><div id="ww1007814" class="CodeInTable">    toolbar-&gt;getItem(0)-&gt;setCallback(UpOneLevel); </div><div id="ww1007815" class="CodeInTable">    toolbar-&gt;getItem(0)-&gt;setClientData(this); </div><div id="ww1007816" class="CodeInTable">    toolbar-&gt;getItem(0)-&gt;setToolTip("Up One Level"); </div><div id="ww1007817" class="CodeInTable">    // Encapsulate the toolbar into a graphic pane.</div><div id="ww1007818" class="CodeInTable">    IlvGraphicPane* toolbarPane = new IlvAbstractBarPane("Toolbar", toolbar); </div><div id="ww1007819" class="CodeInTable">    // Add the pane to the application on top of the main workspace. </div><div id="ww1007820" class="CodeInTable">    getMainWindow()-&gt;addRelativeDockingPane(toolbarPane, </div><div id="ww1007821" class="CodeInTable">                                            IlvDockableMainWindow:: </div><div id="ww1007822" class="CodeInTable">                                            GetMainWorkspaceName(), </div><div id="ww1007823" class="CodeInTable">                                            IlvTop); </div><div id="ww1007824" class="CodeInTable">} </div></td></tr></table></div><div id="ww1001360" class="Body">The toolbar contains only one item, the “Up One Level” item. When selected, this item tries to explore the parent of the selected folder. (The items of the selected folder are displayed in the sheet on the right side of the file browser.) The “Up One Level” item is associated with a tooltip. The toolbar is encapsulated in a special graphic pane of type <span class="ClassName"><a href="../RefMan/refcppgadgets/classIlvAbstractBarPane.html">IlvAbstractBarPane</a></span>, which is added to the main window, just above the workspace. </div><div id="ww1004974" class="Body">For more information, see the sections “Using Tooltips in a Toolbar” in Menus, Menu Bars, and Toolbars and “Using the IlvAbstractBarPane Class” in Docking Panes and Containers. </div><div id="ww1008282" class="Body">    </div><div class="ww_skin_page_overflow"><table class="NoteTable" cellspacing="0" summary=""><tr><td style="padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top"><div id="ww1003140" class="Note"><span class="flag">Note:&nbsp;</span>The client data of the item is set to <span class="code">this</span>, making it possible to retrieve a pointer to the application from its callback function. (Remember that the client data is the second parameter of the callback invoked when the item is activated.)</div></td></tr></table></div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1007846" class="CodeInTable">static void</div><div id="ww1007847" class="CodeInTable">UpOneLevel(IlvGraphic* g, IlvAny arg)</div><div id="ww1007848" class="CodeInTable">{</div><div id="ww1007849" class="CodeInTable">    // Retrieve a pointer on the application.</div><div id="ww1007850" class="CodeInTable">    FileViewerApplication* application = (FileViewerApplication*)arg;</div><div id="ww1007851" class="CodeInTable">    // Retrieve a pointer on the main window.</div><div id="ww1007852" class="CodeInTable">    FileViewerWindow* window = (FileViewerWindow*)</div><div id="ww1007853" class="CodeInTable">        application-&gt;getMainWindow()-&gt;getMainWorkspaceViewPane()-&gt;getView();</div><div id="ww1007854" class="CodeInTable">    // Retrieve a pointer on the file viewer.</div><div id="ww1007855" class="CodeInTable">    FileViewer* viewer = FileViewerApplication::GetFileViewer(window);</div><div id="ww1007856" class="CodeInTable">    if (viewer) {</div><div id="ww1007857" class="CodeInTable">        // Find the last selected item of the tree.</div><div id="ww1007858" class="CodeInTable">        IlvTreeGadgetItem* item =</div><div id="ww1007859" class="CodeInTable">            viewer-&gt;getTreeGadget()-&gt;getLastSelectedItem();</div><div id="ww1007860" class="CodeInTable">        // And select its parent.</div><div id="ww1007861" class="CodeInTable">        if (item &amp;&amp; item-&gt;getParent() &amp;&amp; item-&gt;getParent()-&gt;getParent())</div><div id="ww1007862" class="CodeInTable">            viewer-&gt;getTreeGadget()-&gt;selectItem(item-&gt;getParent(),</div><div id="ww1007863" class="CodeInTable">                                                IlvTrue,</div><div id="ww1007864" class="CodeInTable">                                                IlvTrue,</div><div id="ww1007865" class="CodeInTable">                                                IlvTrue);</div><div id="ww1007866" class="CodeInTable">        }</div><div id="ww1007867" class="CodeInTable">} </div></td></tr></table></div><div id="ww1001363" class="Subhead"><span></span>Creating the Docking Menu Bar</div><div id="ww1001364" class="Body">The <span class="code">initMenuBar</span> member function creates the menu bar:</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1007882" class="CodeInTable">void </div><div id="ww1007883" class="CodeInTable">FileViewerApplication::initMenuBar() </div><div id="ww1007884" class="CodeInTable">{ </div><div id="ww1007885" class="CodeInTable">    // The menu bar is in fact an IlvToolBar.</div><div id="ww1007886" class="CodeInTable">    IlvToolBar* menubar = new IlvToolBar(getDisplay(), IlvPoint(0, 0)); </div><div id="ww1007887" class="CodeInTable">    // Add two items </div><div id="ww1007888" class="CodeInTable">    menubar-&gt;addLabel("File"); </div><div id="ww1007889" class="CodeInTable">    menubar-&gt;addLabel("Help"); </div><div id="ww1007890" class="CodeInTable">    // Create the pane that will encapsulate the menu bar.</div><div id="ww1007891" class="CodeInTable">    IlvGraphicPane* menubarPane = new ApplicationMenuBarPane("Menu Bar", </div><div id="ww1007892" class="CodeInTable">                                                             menubar); </div><div id="ww1007893" class="CodeInTable">    // Change the mode of the menu bar to make it show items on several </div><div id="ww1007894" class="CodeInTable">    // rows, if needed.</div><div id="ww1007895" class="CodeInTable">    menubar-&gt;setConstraintMode(IlvTrue); </div><div id="ww1007896" class="CodeInTable">    // Add the pane to the application on top of the main workspace. </div><div id="ww1007897" class="CodeInTable">    getMainWindow()-&gt;addRelativeDockingPane(menubarPane, </div><div id="ww1007898" class="CodeInTable">                                            IlvDockableMainWindow:: </div><div id="ww1007899" class="CodeInTable">                                            GetMainWorkspaceName(), </div><div id="ww1007900" class="CodeInTable">                                            IlvTop); </div><div id="ww1007901" class="CodeInTable">    // Now fill the menus with popup menus.</div><div id="ww1007902" class="CodeInTable">    IlvPopupMenu* menu; </div><div id="ww1007903" class="CodeInTable">    // Menu File: New / Separator / Exit.</div><div id="ww1007904" class="CodeInTable">    menu = new IlvPopupMenu(getDisplay()); </div><div id="ww1007905" class="CodeInTable">    menu-&gt;addLabel("Exit"); </div><div id="ww1007906" class="CodeInTable">    menu-&gt;getItem(0)-&gt;setCallback(ExitApplication); </div><div id="ww1007907" class="CodeInTable">    menu-&gt;getItem(0)-&gt;setClientData(this); </div><div id="ww1007908" class="CodeInTable">    menubar-&gt;getItem(0)-&gt;setMenu(menu, IlvFalse); </div><div id="ww1007909" class="CodeInTable">    // Menu Help: About.</div><div id="ww1007910" class="CodeInTable">    menu = new IlvPopupMenu(getDisplay()); </div><div id="ww1007911" class="CodeInTable">    menu-&gt;addLabel("About"); </div><div id="ww1007912" class="CodeInTable">    menubar-&gt;getItem(1)-&gt;setMenu(menu, IlvFalse); </div><div id="ww1007913" class="CodeInTable">    menu-&gt;getItem(0)-&gt;setCallback(ShowAboutPanel); </div><div id="ww1007914" class="CodeInTable">    menu-&gt;getItem(0)-&gt;setClientData(this); </div><div id="ww1007915" class="CodeInTable">} </div></td></tr></table></div><div id="ww1001399" class="Body">The menu bar is created and initialized with two items: File and Help. It is then encapsulated into a pane of the <span class="code">ApplicationMenuBarPane</span> class, a subclass of <span class="ClassName"><a href="../RefMan/refcppgadgets/classIlvAbstractBarPane.html">IlvAbstractBarPane</a></span> class that changes the label orientation according to the bar orientation. </div><div id="ww1004975" class="Body">See the section “Customizing Docking Bars” in Docking Panes and Containers.</div><div id="ww1001400" class="Body">The Help item of the menu bar has a submenu that contains the About item. This item is attached to a callback that displays a dialog box showing the application name:</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1007930" class="CodeInTable">void</div><div id="ww1007931" class="CodeInTable">FileViewerApplication::showVersion()</div><div id="ww1007932" class="CodeInTable">{</div><div id="ww1007933" class="CodeInTable">    IlvIInformationDialog dialog(getDisplay(), "VIEWFILE Tutorial");</div><div id="ww1007934" class="CodeInTable">    dialog.moveToMouse();</div><div id="ww1007935" class="CodeInTable">    dialog.showModal();</div><div id="ww1007936" class="CodeInTable">}<span style="font-family: &quot;Times New Roman&quot;"> </span></div></td></tr></table></div><div id="ww1001402" class="Body">For more information, see Dialogs.</div><div id="ww1001403" class="Subhead"><span></span>Integrating Changes into the Application</div><div id="ww1001404" class="Body">The last step consists of modifying the member function <span class="code">FileViewerApplication::configureApplication</span> to include the view of the file viewer in the main workspace of the application main window. This workspace is represented by a view pane that is created by default and can be retrieved using the <span class="MethodName"><a href="../RefMan/refcppgadgets/classIlvDockableMainWindow.html#a439f4d38c8fe59f3a86fba41d1515764">getMainWorkspaceViewPane</a></span>. </div><div id="ww1004978" class="Body">See “Using the IlvDockableMainWindow Class” in Docking Panes and Containers.</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1007951" class="CodeInTable">void</div><div id="ww1007952" class="CodeInTable">FileViewerApplication::configureApplication()</div><div id="ww1007953" class="CodeInTable">{</div><div id="ww1007954" class="CodeInTable">    // Create the file viewer window.</div><div id="ww1007955" class="CodeInTable">    FileViewerWindow* window = createFileViewerWindow(getMainWindow(),</div><div id="ww1007956" class="CodeInTable">                                                     IlvRect(0, 0, 400, 200));</div><div id="ww1007957" class="CodeInTable">    // Replace the view of the main workspace pane with the file viewer window.</div><div id="ww1007958" class="CodeInTable">    getMainWindow()-&gt;getMainWorkspaceViewPane()-&gt;setView(window);</div><div id="ww1007959" class="CodeInTable">    // Create the file viewer using the file viewer window.</div><div id="ww1007960" class="CodeInTable">    FileViewer* viewer = createFileViewer(window);</div><div id="ww1007961" class="CodeInTable">    // Link the file viewer with its window.</div><div id="ww1007962" class="CodeInTable">    // This is used in the UpOneLevel callback.</div><div id="ww1007963" class="CodeInTable">    SetFileViewer(window, viewer);</div><div id="ww1007964" class="CodeInTable">    // Initialize the file viewer.</div><div id="ww1007965" class="CodeInTable">    viewer-&gt;init(IlvPathName("/"));</div><div id="ww1007966" class="CodeInTable">} </div></td></tr></table></div><div id="ww1001406" class="Body">The factory member function <span class="code">createFileViewerWindow</span> creates a <span class="code">FileViewerWindow</span> object as a subview of the provided view. The created view is set as the view pane representing the main workspace. Finally, the <span class="code">FileViewer</span> object is created and initialized, using the same method as in the previous step.</div><div id="ww1001407" class="Subhead"><span></span>Previewing the Application</div><div id="ww1001408" class="Body">This is the end of Step 3. Your application window should look like this:</div><div class="ww_skin_page_overflow"><div id="ww1004038" class="Startfigure"><img class="Default" src="../Tutorials/images/viewfile3.gif" width="100%" style="display: block; left: 0.0pt; max-height: 338px; max-width: 516px; top: 0.0pt" alt="" /></div></div><div id="ww1004126" class="Caption">The ViewFile Application After Step 3</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright © 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>