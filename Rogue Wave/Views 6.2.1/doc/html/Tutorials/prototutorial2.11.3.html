<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Step 1: Reading a Panel Containing Prototype Instances</title><link rel="Prev" href="prototutorial2.11.2.html" title="Previous" /><link rel="Next" href="prototutorial2.11.4.html" title="Next" /><link rel="StyleSheet" href="css/prototutorial2.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/prototutorial2_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/Tutorials/prototutorial2.11.3.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pN_002bdQlV_002fUW7jCusaL3IMXz_002fA" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/Tutorials/prototutorial2.11.3.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../Tutorials/protostutfrontcover.html#wwconnect_header">2D Graphics</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Tutorials/prototutorial2.11.1.html#wwconnect_header">Linking Your Prototype to Application Objects</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Step 1: Reading a Panel Containing Prototype Instances</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww1038048" class="Heading1"><span></span>Step 1: Reading a Panel Containing Prototype Instances</div><div id="ww1038049" class="Body">The file <span class="code">step1/program.cpp</span> contains the basic canvas of a Rogue Wave®&nbsp;Views program, with which you should already be familiar. </div><div id="ww1038050" class="Body">In order to have the prototypes library working, it is necessary to include the following files, specific to the prototypes modules:</div><div id="ww1038051" class="NormalCode">#include &lt;ilviews/protos/proto.h&gt;</div><div id="ww1038052" class="NormalCode">#include &lt;ilviews/protos/protogr.h&gt;</div><div id="ww1038053" class="NormalCode">#include &lt;ilviews/protos/groupholder.h&gt;</div><div id="ww1038817" class="LastNormalCode">#include &lt;ilviews/protos/allaccs.h&gt;</div><div class="ww_skin_page_overflow"><table class="NoteTable" cellspacing="0" summary=""><tr><td style="padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top"><div id="ww1038824" class="Note"><span class="flag">Note:&nbsp;</span>Other includes would be needed to use other features of Rogue Wave&nbsp;Views, such as Managers.</div></td></tr></table></div><div id="ww1038809" class="Body">While not mandatory, it is often convenient to include all default graphic objects in the main file. This enables you to edit a prototype in Rogue Wave&nbsp;Views Studio without having to ensure that all the individual graphic objects have been included. Once you have finished modifying or extending your prototypes, you may wish to include only the necessary objects in order to optimize the runtime footprint.</div><div id="ww1038056" class="LastNormalCode">#include &lt;ilviews/graphics/all.h&gt;</div><div id="ww1038057" class="Body">For this particular example, you will also need to include the following file in order to read the display prototype that uses the <span class="code">IlvMessageLabel</span> class:</div><div id="ww1038058" class="LastNormalCode">#include &lt;ilviews/gadgets/msglabel.h&gt;</div><div id="ww1038059" class="Body">If you have Rogue Wave&nbsp;Views Controls, including all predefined gadgets will let you use the gadgets in your prototypes:</div><div id="ww1038060" class="LastNormalCode">#include &lt;ilviews/gadgets/gadgets.h&gt;</div><div id="ww1038061" class="Body">To run a program that contains calls to the Prototype package, you have to link the program with (at least) these libraries: <span class="code">ilvproto</span>, <span class="code">ilvgrapher</span>, <span class="code">ilvmgr</span>, <span class="code">views</span>, <span class="code">ilog</span>, and with the specific libraries for your platform. Only the library <span class="code">ilvproto</span> is specific to the Prototype package.</div><div class="ww_skin_page_overflow"><table class="NoteTable" cellspacing="0" summary=""><tr><td style="padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top"><div id="ww1038838" class="Note"><span class="flag">Note:&nbsp;</span>The makefiles and project files provided have already specified all the libraries needed to compile, link, and execute this program.</div></td></tr></table></div><div id="ww1038062" class="Body">The program opens a display. You then add “..” to the display path to locate the prototype library <span class="code">myLib.ipl</span> which holds the prototypes already defined. Next, the program creates a container and loads the file <span class="code">myPanel.ilv</span>, containing prototype instances. These instances are automatically loaded. Finally, the program shows the container and starts the main loop, like all regular Rogue Wave&nbsp;Views programs:</div><div id="ww1038063" class="NormalCode">int</div><div id="ww1038064" class="NormalCode">main(int argc, char* argv[])</div><div id="ww1038065" class="NormalCode">{</div><div id="ww1038066" class="NormalCode">  // Connect to the display system.</div><div id="ww1038067" class="NormalCode">  IlvDisplay* display = new IlvDisplay("ViewsBGO", 0, argc, argv);</div><div id="ww1038068" class="NormalCode">  if (!display || display-&gt;isBad()) {</div><div id="ww1038069" class="NormalCode">    IlvFatalError("Couldn’t open display");</div><div id="ww1038070" class="NormalCode">    return -1;</div><div id="ww1038071" class="NormalCode">  }</div><div id="ww1038072" class="NormalCode">  // Prepare a window and a manager to display a scene.</div><div id="ww1038073" class="NormalCode">  IlvManager* manager = new IlvManager(display);</div><div id="ww1038074" class="NormalCode">  IlvView* view = new IlvView(display, "BGO tutorial 1", </div><div id="ww1038075" class="NormalCode">        "BGO tutorial 1", IlvRect(0, 0, 400, 300));</div><div id="ww1038076" class="NormalCode">  manager-&gt;addView(view);</div><div id="ww1038077" class="NormalCode">  // Load a data file into the manager</div><div id="ww1038078" class="NormalCode">  // Add the samples data directory to the display path</div><div id="ww1038079" class="NormalCode">  // to be sure to find the proper file.</div><div id="ww1038080" class="NormalCode">  IlString buf (getenv("ILVHOME"));</div><div id="ww1038081" class="NormalCode">  buf+="/doc/tutorial2/step1";</div><div id="ww1038082" class="NormalCode">  display-&gt;appendToPath(buf);</div><div id="ww1038083" class="NormalCode">  display-&gt;appendToPath("..");</div><div id="ww1038084" class="NormalCode">  manager-&gt;read("myPanel.ilv");</div><div id="ww1038085" class="NormalCode">  // The prototype instances are automatically read.</div><div id="ww1038086" class="NormalCode">  // Then run the main loop.</div><div id="ww1038087" class="NormalCode">  manager-&gt;setDoubleBuffering(view, IlvTrue);</div><div id="ww1038088" class="NormalCode">  view-&gt;show();</div><div id="ww1038089" class="NormalCode">  IlvMainLoop();</div><div id="ww1038090" class="NormalCode">  return 0;</div><div id="ww1038091" class="LastNormalCode">}</div><div id="ww1038092" class="Body">You can compile and link this program (<span class="code">step1/program.cpp</span>) to see that your panel has been read, which will operate as indicated here:</div><div class="ww_skin_page_overflow"><div id="ww1038103" class="Startplain"><img class="Default" src="../Tutorials/images/onlineimage1.PNG" width="100%" style="display: block; left: 0.0pt; max-height: 322px; max-width: 600px; top: 0.0pt" alt="" />       </div></div><div id="ww1038104" class="Body">In the next section you will add some code to retrieve the prototype instance <span class="code">myThermometer</span>, which you created in the panel in the first tutorial (see <a href="../Tutorials/prototutorial1.10.01.html#ww1037988" title="Creating Prototypes in Rogue Wave Views Studio">Creating Prototypes in Rogue Wave&nbsp;Views Studio</a>).</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright © 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>