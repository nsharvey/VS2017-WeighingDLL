<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Fetch Policy</title><link rel="Prev" href="sqltables.10.10.html" title="Previous" /><link rel="Next" href="sqltables.10.12.html" title="Next" /><link rel="StyleSheet" href="css/sqltables.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/sqltables_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/Options/sqltables.10.11.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pqwjvy248QTAzU_002fqzSVWSxQ" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/Options/sqltables.10.11.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../Options/dausrfrontcover.html#wwconnect_header">Data Access User Manual</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/dausrpart2.html#ww144909">Data Access and SQL</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/sqltables.10.01.html#wwconnect_header">SQL Tables</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/sqltables.10.08.html#wwconnect_header">Run-Time Options</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Fetch Policy</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww999401" class="Heading2"><span></span>Fetch Policy</div><div id="ww999405" class="Body">Data Access supports two ways of fetching rows from the database after a successful SELECT operation: either all rows are fetched at once at select time or the retrieval of rows is delayed until required. The fetch policy of an SQL table can be set using the <span class="MethodName"><a href="../RefMan/refcppdataccess/classIliSQLTable.html#a53e7b12ddaefeea38b107fa9c0a21e80">setFetchPolicy</a></span> member function.</div><div id="ww999406" class="Body">Here is an example where the fetch policy is <span class="emphasis">immediate</span>:</div><div id="ww999407" class="NormalCode">IliSQLTable* sqlTbl;</div><div id="ww1001835" class="NormalCode">...</div><div id="ww1001836" class="NormalCode">sqlTbl-&gt;setFetchPolicy(IliFP_Immediate);</div><div id="ww1001837" class="NormalCode">sqlTbl-&gt;select();</div><div id="ww1001838" class="NormalCode">// All rows have been fetched and are now available locally.</div><div id="ww1001839" class="NormalCode">IlInt rowsCount = sqlTbl-&gt;getRowsCount();</div><div id="ww1001840" class="LastNormalCode">// The rows count is accurate.</div><div id="ww999408" class="Body">The advantage of the <span class="emphasis">immediate</span> fetch policy is that the row count is accurate, since the <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliTable.html">IliTable</a></span><span class="code">::select</span> member function retrieves all the database rows at once. However, the disadvantage is that if the SQL SELECT statement retrieves ten thousand rows, the <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliTable.html">IliTable</a></span><span class="code">::select</span> function will incur serious overhead.</div><div id="ww999410" class="Body">Alternatively, the <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliSQLTable.html">IliSQLTable</a></span> object can delay the retrieval of rows until necessary. Here is an example:</div><div id="ww999411" class="NormalCode">IliSQLTable* sqlTbl;</div><div id="ww1001842" class="NormalCode">...</div><div id="ww1001843" class="NormalCode">sqlTbl-&gt;setFetchPolicy(IliFP_AsNeeded);</div><div id="ww1001844" class="NormalCode">// Auto-commit must be disabled.</div><div id="ww1001845" class="NormalCode">sqlTbl-&gt;setAutoCommit(IlFalse);</div><div id="ww1001846" class="NormalCode">sqlTbl-&gt;select();</div><div id="ww1001847" class="NormalCode">// Rows have not yet been fetched.</div><div id="ww1001848" class="NormalCode">IlInt initialRowsCount = sqlTbl-&gt;getRowsCount();</div><div id="ww1001850" class="NormalCode">// The initial rows count equals 0.</div><div id="ww1001849" class="NormalCode">sqlTbl-&gt;fetchNext(10);</div><div id="ww1001851" class="NormalCode">IlInt halfWayRowsCount = sqlTbl-&gt;getRowsCount();</div><div id="ww1001852" class="NormalCode">// Now, 10 rows are available locally.</div><div id="ww1001853" class="NormalCode">sqlTbl-&gt;fetchAll();</div><div id="ww1001854" class="NormalCode">IlInt totalRowsCount = sqlTbl-&gt;getRowsCount();</div><div id="ww1001855" class="LastNormalCode">// All rows have been fetched and are now available locally.</div><div id="ww999412" class="Body">Note that the auto-commit mode must be disabled for this way of retrieving rows to be effective.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright Â© 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>