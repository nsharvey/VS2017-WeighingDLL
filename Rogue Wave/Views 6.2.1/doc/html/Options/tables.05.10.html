<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Techniques for Two-Tier Tables</title><link rel="Prev" href="tables.05.09.html" title="Previous" /><link rel="Next" href="tables.05.11.html" title="Next" /><link rel="StyleSheet" href="css/tables.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/tables_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/Options/tables.05.10.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pi55k_002bNvEANf_002fE9LWfoEGlw" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/Options/tables.05.10.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../Options/dausrfrontcover.html#wwconnect_header">Data Access User Manual</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/dausrpart1.html#ww144909">Rogue Wave&nbsp;Views Data Access Common Framework</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/tables.05.01.html#wwconnect_header">Tables</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/tables.05.08.html#wwconnect_header">Managing Rows in a Table</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Techniques for Two-Tier Tables</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww998107" class="Heading2"><span></span>Techniques for Two-Tier Tables</div><div id="ww998108" class="Body">The <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliTable.html">IliTable</a></span> class also provides a set of member functions dedicated to managing two-tier tables. A two-tier table is tied to rows that are managed by some external process or system; therefore serving as a bridge between Data Access and this external system. For instance, the <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliSQLTable.html">IliSQLTable</a></span> class (described in <a href="../Options/hintandtip.08.01.html#ww997635" title="Hints and Tips for Using Data Access">Hints and Tips for Using Data Access</a>) serves as a bridge to relational database systems. The <span class="code">DirectoryTable</span> sample class serves as a bridge to the file system. See <a href="../Options/tables.05.22.html#ww999439" title="Subclassing Example">Subclassing Example</a>.</div><div id="ww998143" class="Body">A two-tier table is usually defined by specifying some sort of criteria that will be used to identify a result set extracted from the remote or external system. Precisely how this is done depends on the subclass of <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliTable.html">IliTable</a></span> being used. For an <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliSQLTable.html">IliSQLTable</a></span>, for example, an SQL SELECT statement has to be specified.</div><div id="ww998411" class="Body">The <span class="code">IliTable::select</span> member function retrieves the data from the external system identified by the above mentioned criteria. This data is then copied into a local row cache managed by the table object.</div><div id="ww998407" class="Body">With a two-tier table, the basic row management member functions (described in section <a href="../Options/tables.05.08.html#ww997922" title="Managing Rows in a Table">Managing Rows in a Table</a>) perform specific actions, the details of which depend on the specific subclass being used. For more information, refer to the appropriate class in the Rogue Wave&nbsp;Views<span class="emphasis"> Data Access Reference Manual</span>.</div><div id="ww998437" class="Body">A two-tier table can retrieve rows in one of the following ways:</div><div id="ww1001154" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>The <span class="code">select</span> member function immediately retrieves all rows identified by the selection criteria and stores them in the local row cache.</div><div id="ww1001155" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>The <span class="code">select</span> member function locates the rows identified by the selection criteria in the external system, but delays their retrieval until they are required.</div><div id="ww998458" class="Body">The <span class="MethodName"><a href="../RefMan/refcppdataccess/classIliTable.html#a0290dc7ed7855866bc1ccb0b3703791e">getRowsCount</a></span> member function returns the number of rows that are located in the local row cache. However, when a two-tier table implements the delayed row retrieval, the value returned by <span class="MethodName"><a href="../RefMan/refcppdataccess/classIliTable.html#a0290dc7ed7855866bc1ccb0b3703791e">getRowsCount</a></span> corresponds to the number of rows that have been retrieved to date. It does not take into account those rows that have not been retrieved yet.</div><div id="ww1013856" class="Body">The <span class="code">IliTable::fetchCompleted</span> member function returns <span class="code">true</span> when all rows have been retrieved and stored in the local row cache. This member function can therefore be used to check that the row count (as returned by <span class="code">getRowsCount</span>) is definitive.</div><div id="ww1013861" class="Body">The <span class="code">IliTable::fetchNext</span> and <span class="code">IliTable::fetchAll</span> functions are used to retrieve explicitly a fixed number of rows or all remaining rows from the result set. However, when any of the <span class="code">insertRow</span>, <span class="code">updateRow</span>, <span class="code">deleteRow</span>, and <span class="code">getValue</span> member functions are called and given a row number outside of the rows in the local row cache, all missing rows up to this row are retrieved. In this way, the delayed retrieval feature is transparent except for the rows count.</div><div id="ww1000769" class="Body">The <span class="code">insertRowInCache</span>, <span class="code">updateRowInCache</span>, and <span class="code">deleteRowInCache</span> member functions are similar to their non-<span class="code">inCache</span> counterparts except that they simply act on the local row cache, leaving the remote data store unaffected.</div><div id="ww1000779" class="Body">The <span class="code">IliTable::clearRows</span> clears the row cache. For two-tier tables, the external system to which the <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliTable.html">IliTable</a></span> object is tied is not affected by the <span class="code">clearRows</span> member function. A subsequent select would retrieve the same rows again.</div><div id="ww998497" class="Body">In a one-tier table, however, the <span class="code">IliTable::clearRows</span> effectively deletes all rows in the <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliTable.html">IliTable</a></span> object.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright © 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>