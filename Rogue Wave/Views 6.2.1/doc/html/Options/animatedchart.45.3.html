<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Using Automatic Scroll Modes to Display Real-Time Data</title><link rel="Prev" href="animatedchart.45.2.html" title="Previous" /><link rel="Next" href="animatedchart.45.4.html" title="Next" /><link rel="StyleSheet" href="css/animatedchart.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/animatedchart_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/Options/animatedchart.45.3.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pwZ8qmi443ktxIADRDFPSfg" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/Options/animatedchart.45.3.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../Options/chusrfrontcover.html#wwconnect_header">Charts</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/chusrpart2.html#ww145481">Using the Charts Library </a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/animatedchart.45.1.html#wwconnect_header">Using Charts to Display Real-Time Data</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Using Automatic Scroll Modes to Display Real-Time Data  </span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww1026342" class="Heading1"><span></span>Using Automatic Scroll Modes to Display Real-Time Data  </div><div id="ww1026348" class="Body">To use automatic scroll modes to display data arriving on the fly (real-time data), do the following:</div><div id="ww1026349" class="Numbered1"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span class="number">1.	</span></span>Define the range of the abscissa coordinate that will be displayed.</div><div id="ww1026353" class="IndentedL1">This is required because the scrolling operation is performed along the abscissa coordinate.</div><div id="ww1026354" class="Numbered"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span class="number">2.	</span></span>Define the range of the ordinate coordinate that will be displayed.</div><div id="ww1026358" class="IndentedL1">Although this step is not required, it is useful because it prevents the range of values represented by the ordinate scale from being constantly updated to fit the displayed data.</div><div id="ww1026359" class="Numbered"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span class="number">3.	</span></span>Set the scroll mode (shift mode or cycle mode) to be used.</div><div id="ww1026364" class="Numbered"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span class="number">4.	</span></span>Set the scroll ratio to be used.</div><div id="ww1030976" class="Body">The next section contains an example that illustrates these basic steps.</div><div id="ww1026365" class="Subhead"><span></span>Scroll Example </div><div id="ww1026366" class="Body">The following example shows you how to display three sets of data arriving on the fly. The data sets are empty when created and are set on three polyline displayers. A data point is added to each data set at each period of a timer. The shift scroll mode is used in this example.</div><div id="ww1026827" class="Body">The following images show the example chart at two different periods of the timer. <a href="../Options/animatedchart.45.3.html#ww1030799" title="Using Automatic Scroll Modes to Display Real-Time Data">Chart before the Scrolling Operation in Shift Scroll Mode</a> shows the chart before the scrolling operation. <a href="../Options/animatedchart.45.3.html#ww1026853" title="Using Automatic Scroll Modes to Display Real-Time Data">Chart after Scrolling by the Scroll Ratio in Shift Scroll Mode</a> shows the chart after it has been scrolled. The chart shifts according to the value defined by the scroll ratio.</div><div class="ww_skin_page_overflow"><div id="ww1030797" class="Startfigure"><img class="Default" src="../Options/images/img_scroll1.gif" width="100%" style="display: block; left: 0.0pt; max-height: 636px; max-width: 812px; top: 0.0pt" alt="" /></div></div><div id="ww1030799" class="Caption">Chart before the Scrolling Operation in Shift Scroll Mode</div><div class="ww_skin_page_overflow"><div id="ww1030803" class="Startfigure"><img class="Default" src="../Options/images/img_scroll2.gif" width="100%" style="display: block; left: 0.0pt; max-height: 636px; max-width: 812px; top: 0.0pt" alt="" /></div></div><div id="ww1026853" class="Caption">Chart after Scrolling by the Scroll Ratio in Shift Scroll Mode </div><div id="ww1026832" class="Body">The complete source code for this example can be found in the <span class="code">scroll1.cpp</span> file located in the <span class="code">$ILVHOME/samples/charts/userman/src</span> directory. This section describes only the steps required to use the scroll modes to display data coming on the fly.</div><div id="ww1026372" class="Heading3"><span></span>Defining the Range of the Abscissa Coordinate </div><div id="ww1026373" class="Body">The range of values that will be displayed for a given coordinate is set on the coordinate information object associated with this coordinate. To define the range of the abscissa coordinate, we can use the following code:</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1033204" class="CodeInTable"><span style="color: #000000; font-family: &quot;Microsoft Sans Serif&quot;; font-size: 8.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline">chart-&gt;getAbscissaInfo()-&gt;setUserDataRange(IlvCoordInterval(0,8));</span></div></td></tr></table></div><div id="ww1026384" class="Body">This specified interval is the one that is displayed for the abscissa coordinate at the beginning of the data display (see <a href="../Options/animatedchart.45.3.html#ww1030799" title="Using Automatic Scroll Modes to Display Real-Time Data">Chart before the Scrolling Operation in Shift Scroll Mode</a>). This interval will change when the chart scrolls. However, the difference between the maximum and minimum values of the displayed interval will remain the same (see <a href="../Options/animatedchart.45.3.html#ww1026853" title="Using Automatic Scroll Modes to Display Real-Time Data">Chart after Scrolling by the Scroll Ratio in Shift Scroll Mode</a>).</div><div id="ww1026376" class="Heading3"><span></span>Defining the Range of the Ordinate Coordinate </div><div id="ww1026383" class="Body">To define the range of the ordinate coordinate, we can use the following code: </div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1033213" class="CodeInTable">chart-&gt;getOrdinateInfo()-&gt;setUserDataRange(IlvCoordInterval(MinOrd,MaxOrd));</div></td></tr></table></div><div id="ww1026367" class="Heading3"><span></span>Setting the Scroll Mode</div><div id="ww1026394" class="Body">For this example, we want to use the shift scroll mode. To set the scroll mode, we can use the following code:</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1033222" class="CodeInTable">chart-&gt;setScrollMode(IlvChartGraphic::IlvScrollModeShift);</div></td></tr></table></div><div id="ww1026397" class="Heading3"><span></span>Setting the Scroll Ratio</div><div id="ww1026402" class="Body">We want to set the scroll ratio to <span class="code">0.5</span>. This means that half of the displayed range of the abscissa coordinate will be shifted when necessary. To set the scroll ratio, we can use the following code:</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1033231" class="CodeInTable">chart-&gt;setScrollRatio(.5);</div></td></tr></table></div><div id="ww1026405" class="Heading3"><span></span>Adding the Data on the Fly </div><div id="ww1031365" class="Body">Data is added on the fly by using a method that is called at each period of a timer. This method simply adds a new data point to each defined data set. The chart will be automatically updated to reflect the addition of data points without doing anything more.</div><div id="ww1031368" class="Body">For more information on how data is automatically updated, see <a href="../Options/datahandling.39.5.html#ww1013895" title="Modifying Data and Updating Charts">Modifying Data and Updating Charts</a>.  </div><div id="ww1033238" class="Body">The method that is called at each period of the timer is the following:</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1036584" class="CodeInTable">static void</div><div id="ww1036585" class="CodeInTable">AddPoints(IlvTimer* timer, IlAny arg)</div><div id="ww1036586" class="CodeInTable">    // Timer callback to add points.</div><div id="ww1036587" class="CodeInTable">{</div><div id="ww1036588" class="CodeInTable">    IlvChartGraphic* chart = (IlvChartGraphic*)arg;</div><div id="ww1036589" class="CodeInTable">    IlvDisplay* display = timer-&gt;getDisplay();</div><div id="ww1036590" class="CodeInTable">    IlUInt count;</div><div id="ww1036591" class="CodeInTable">    IlvDoublePoint previousPoint;</div><div id="ww1036592" class="CodeInTable">    IlvDoublePoint nextPoint;</div><div id="ww1036593" class="CodeInTable">    IlvChartDataSet* dataSet;</div><div id="ww1036594" class="CodeInTable">    // Add one point on each dataSet.</div><div id="ww1036595" class="CodeInTable">    for (IlUInt i = 0; i &lt; chart-&gt;getDataSetsCount(); i++) {</div><div id="ww1036596" class="CodeInTable">        dataSet = chart-&gt;getDataSet(i);</div><div id="ww1036597" class="CodeInTable">        count = dataSet-&gt;getDataCount();</div><div id="ww1036598" class="CodeInTable">        // Get the previous data point to have a smooth random creation.</div><div id="ww1036599" class="CodeInTable">        if (count != 0) {</div><div id="ww1036600" class="CodeInTable">            dataSet-&gt;getPoint(count-1, previousPoint);</div><div id="ww1036601" class="CodeInTable">&nbsp;</div><div id="ww1036602" class="CodeInTable">            // Create a new data point.</div><div id="ww1036603" class="CodeInTable">            GeneratePoint(previousPoint, nextPoint);</div><div id="ww1036604" class="CodeInTable">        }</div><div id="ww1036605" class="CodeInTable">        else {</div><div id="ww1036606" class="CodeInTable">            nextPoint.x(0);</div><div id="ww1036607" class="CodeInTable">            nextPoint.y(i+0.5);</div><div id="ww1036608" class="CodeInTable">        }</div><div id="ww1036609" class="CodeInTable">&nbsp;</div><div id="ww1036610" class="CodeInTable">        // Add the data point to the data set.</div><div id="ww1036611" class="CodeInTable">        dataSet-&gt;addPoint(nextPoint);</div><div id="ww1036612" class="CodeInTable">    }</div><div id="ww1036461" class="CodeInTable">}</div></td></tr></table></div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright © 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>