<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Using Layout Event Listeners</title><link rel="Prev" href="glusradvanced.52.02.html" title="Previous" /><link rel="Next" href="glusradvanced.52.04.html" title="Next" /><link rel="StyleSheet" href="css/glusradvanced.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/glusradvanced_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/Options/glusradvanced.52.03.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pPY9bptngr4VvOYkC26wJ3Q" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/Options/glusradvanced.52.03.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../Options/glusrfrontcover.html#wwconnect_header">Graph Layout</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/glusradvanced.52.01.html#wwconnect_header">Using Advanced Features</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Using Layout Event Listeners </span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww999484" class="Heading1"><span></span>Using Layout Event Listeners </div><div id="ww999486" class="Body">The layout event listeners mechanism provides a way to inform the end user of what is happening during the layout. At times, a layout algorithm may take a long time to execute, especially when dealing with large graphs. In addition, an algorithm may not converge in some cases. No matter what the situation, the end user should be informed of the events that occur during the layout. This can be done by implementing a simple progress bar or by displaying appropriate information, such as the current cost function value, after each iteration or step. </div><div id="ww999492" class="Body">The layout event listener is defined by the <span class="code">IlvGraphLayoutListener</span> class. To receive the layout events delivered during the layout, a class must implement the <span class="code">IlvGraphLayoutListener</span> interface and must register itself using the <span class="code">addGraphLayoutEventListener</span> method of the <span class="ClassName"><a href="../RefMan/refcppgraphlayout/classIlvGraphLayout.html">IlvGraphLayout</a></span> class.</div><div id="ww1010979" class="Body">When you subclass the <span class="code">IlvGraphLayoutListener</span> class, you must implement the <span class="code">IlvGraphLayout::layoutStepPerformed</span> method. The layout algorithm will call this method on all the registered layout event listeners, passing the layout report as an argument. In this way, you can read information about the current state of the layout report. (For example, you can read this information after each iteration or step of the layout algorithm).</div><div id="ww999501" class="Body">The following example shows how to implement a layout event listener. This example uses the Orthogonal Link Layout.</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1017570" class="CodeInTable">class OrthogonalIterationListener</div><div id="ww1017571" class="CodeInTable">: public IlvGraphLayoutListener</div><div id="ww1017572" class="CodeInTable">{</div><div id="ww1017573" class="CodeInTable">public:</div><div id="ww1017574" class="CodeInTable">    OrthogonalIterationListener()</div><div id="ww1017575" class="CodeInTable">    : IlvGraphLayoutListener(), i(0)</div><div id="ww1017576" class="CodeInTable">    { }</div><div id="ww1017577" class="CodeInTable">    void layoutStepPerformed(const IlvGraphLayoutEvent&amp; event)</div><div id="ww1017578" class="CodeInTable">    {</div><div id="ww1017579" class="CodeInTable">        ++i;</div><div id="ww1017580" class="CodeInTable">        IlvOrthogonalLinkLayout* layout =</div><div id="ww1017581" class="CodeInTable">            (IlvOrthogonalLinkLayout*)event.getLayout();</div><div id="ww1017582" class="CodeInTable">        IlvPrint("iteration %d over %d",</div><div id="ww1017583" class="CodeInTable">                 i,</div><div id="ww1017584" class="CodeInTable">                 layout-&gt;getAllowedNumberOfIterations());</div><div id="ww1017585" class="CodeInTable">    }</div><div id="ww1017586" class="CodeInTable">private:</div><div id="ww1017587" class="CodeInTable">    IlUInt i;</div><div id="ww1017588" class="CodeInTable">};</div><div id="ww1017299" class="CodeInTable">&nbsp;</div></td></tr></table></div><div id="ww999516" class="Body">Then, register the listener on the layout instance as follows:</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1017592" class="CodeInTable"> IlvGraphLayout* layout = new IlvOrthogonalLinkLayout();</div><div id="ww1017593" class="CodeInTable">    OrthogonalIterationListener* listener = new OrthogonalIterationListener();</div><div id="ww1017594" class="CodeInTable">&nbsp;</div><div id="ww1017595" class="CodeInTable">    layout-&gt;addGraphLayoutEventListener(listener);</div><div id="ww1017308" class="CodeInTable">&nbsp;</div></td></tr></table></div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright Â© 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>