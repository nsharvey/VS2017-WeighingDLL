<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Brief Description of the Algorithm</title><link rel="Prev" href="layouts.51.05.html" title="Previous" /><link rel="Next" href="layouts.51.07.html" title="Next" /><link rel="StyleSheet" href="css/layouts.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/layouts_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/Options/layouts.51.06.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pN6I_002f0GZ4XJPbBgImOSG5QHQ" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/Options/layouts.51.06.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../Options/glusrfrontcover.html#wwconnect_header">Graph Layout</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/layouts.51.01.html#wwconnect_header">Layout Algorithms</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/layouts.51.05.html#wwconnect_header">Tree Layout </a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Brief Description of the Algorithm </span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww1002089" class="Heading2"><span></span>Brief Description of the Algorithm </div><div id="ww1045107" class="Body">For the Tree Layout, the core algorithm for the layout modes <span class="emphasis">free</span>, <span class="emphasis">level</span>, and <span class="emphasis">radial</span> works in just two steps and is very fast. </div><div id="ww1050218" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><a href="../Options/layouts.51.06.html#ww1045108" title="Brief Description of the Algorithm">Step 1: Calculation of the spanning tree</a> </div><div id="ww1052210" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><a href="../Options/layouts.51.06.html#ww1040074" title="Brief Description of the Algorithm">Step 2: Calculation of node positions and link shapes</a> </div><div id="ww1050219" class="Body">The variations for the layout mode <span class="emphasis">tip-over</span> perform the second step several times and pick the result that best fits the given aspect ratio (the ratio between width and height of the drawing area). Therefore, the tip-over layout modes are slower.</div><div id="ww1045108" class="Heading3"><span></span>Step 1: Calculation of the spanning tree </div><div id="ww1045109" class="Body">If the graph is disconnected, the layout algorithm chooses a <span class="emphasis">root node</span> for each connected component. Starting from the root node, it traverses the graph to choose the links of the <span class="emphasis">spanning tree</span>. If the graph is a pure tree, all links will be chosen. If the graph has cycles, some links will not become part of the spanning tree. These links are called <span class="emphasis">non-tree links</span>, while the links of the spanning tree are called <span class="emphasis">tree links</span>. The non-tree links are ignored in step 2 of the algorithm.</div><div id="ww1042311" class="Body">The <span class="emphasis">root</span> is the black node in <span class="hypertext"><a href="../Options/layouts.51.05.html#ww1026887" title="Tree Layout">Figure&nbsp;4.1</a></span>, <span class="hypertext"><a href="../Options/layouts.51.05.html#ww1026890" title="Tree Layout">Figure&nbsp;4.2</a></span> and <span class="hypertext"><a href="../Options/layouts.51.05.html#ww1039945" title="Tree Layout">Figure&nbsp;4.3</a></span>. In the spanning tree, each node except the root has a <span class="emphasis">parent</span> node. All nodes that have the same parent are called <span class="emphasis">children</span> with respect to the parent and <span class="emphasis">siblings</span> among themselves. Nodes without children are called <span class="emphasis">leaves</span>. Each child at a node starts a subtree (also called a <span class="emphasis">branch</span> of the tree). <a href="../Options/layouts.51.06.html#ww1040093" title="Brief Description of the Algorithm">Sketch of Spanning Tree</a> illustrates a spanning tree.</div><div class="ww_skin_page_overflow"><div id="ww1040092" class="Startfigure"><img class="Default" src="../Options/images/layouts.51.06.1.png" width="100%" style="display: block; left: 0.0pt; max-height: 256px; max-width: 492px; top: 0.0pt" alt="" /></div></div><div id="ww1040093" class="Caption">Sketch of Spanning Tree</div><div id="ww1040074" class="Heading3"><span></span>Step 2: Calculation of node positions and link shapes</div><div id="ww1040075" class="Body">The layout algorithm arranges the nodes according to the layout mode and the offset and alignment options. In free and level modes, the nodes are arranged horizontally or vertically so that all tree links flow roughly in the same direction. In the radial modes, the nodes are arranged in circles or ellipses around the root so that all tree links flow radially away from the root. Finally, the link shapes are calculated according to the link style and alignment options.</div><div id="ww1001853" class="Subhead"><span></span>Code Sample  </div><div id="ww1001855" class="Body">Below is a code sample using the <span class="ClassName"><a href="../RefMan/refcppgraphlayout/classIlvTreeLayout.html">IlvTreeLayout</a></span> class:</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1081056" class="CodeInTable">// ...</div><div id="ww1081057" class="CodeInTable">&nbsp;</div><div id="ww1081058" class="CodeInTable">IlvGrapher* grapher = new IlvGrapher(display);</div><div id="ww1081059" class="CodeInTable">IlvView* view = new IlvView(display, "", "", IlvRect(0, 0, 100, 100));</div><div id="ww1081060" class="CodeInTable">grapher-&gt;addView(view);</div><div id="ww1081061" class="CodeInTable">view-&gt;show();</div><div id="ww1081062" class="CodeInTable"> </div><div id="ww1081063" class="CodeInTable">// ... Fill in the grapher with nodes and links here</div><div id="ww1081064" class="CodeInTable">// ... Suppose we have added rootNode as a node in the grapher</div><div id="ww1081065" class="CodeInTable">IlvGraphic* rootNode = 0;</div><div id="ww1081066" class="CodeInTable"> </div><div id="ww1081067" class="CodeInTable">IlvTreeLayout* layout = new IlvTreeLayout();</div><div id="ww1081068" class="CodeInTable">layout-&gt;attach(grapher);</div><div id="ww1081069" class="CodeInTable"> </div><div id="ww1081070" class="CodeInTable">// Specify the root node, orientation and alignment</div><div id="ww1081071" class="CodeInTable">layout-&gt;setRoot(rootNode);  </div><div id="ww1081072" class="CodeInTable">layout-&gt;setFlowDirection(IlvRight);</div><div id="ww1081073" class="CodeInTable">layout-&gt;setGlobalAlignment(IlvLayoutCenterAlignment);</div><div id="ww1081074" class="CodeInTable"> </div><div id="ww1081075" class="CodeInTable">// Perform the layout</div><div id="ww1081076" class="CodeInTable">IlvGraphLayoutReport* layoutReport = layout-&gt;performLayout();</div><div id="ww1081077" class="CodeInTable">if (layoutReport-&gt;getCode() != IlvLayoutReportLayoutDone)</div><div id="ww1081078" class="CodeInTable">    IlvWarning("Layout not done. Error code = %d\n", layoutReport-&gt;getCode());</div><div id="ww1081079" class="CodeInTable">&nbsp;</div><div id="ww1081080" class="CodeInTable">// If this grapher is not anymore subject of layout:</div><div id="ww1081081" class="CodeInTable">layout-&gt;detach();</div><div id="ww1081082" class="CodeInTable">&nbsp;</div><div id="ww1081083" class="CodeInTable">// Once the layout algorithm is not anymore needed:</div><div id="ww1081084" class="CodeInTable">delete layout;</div><div id="ww1080215" class="CodeInTable">&nbsp;</div></td></tr></table></div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright © 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>