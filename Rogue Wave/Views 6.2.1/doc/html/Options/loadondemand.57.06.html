<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Displaying the State of Tiles</title><link rel="Prev" href="loadondemand.57.05.html" title="Previous" /><link rel="Next" href="loadondemand.57.07.html" title="Next" /><link rel="StyleSheet" href="css/loadondemand.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/loadondemand_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/Options/loadondemand.57.06.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pQxETIEEIKg9j5sagyqTXow" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/Options/loadondemand.57.06.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../Options/docfrontcover.html#wwconnect_header">Maps</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/loadondemand.57.01.html#wwconnect_header">Using Load-On-Demand</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Displaying the State of Tiles</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww1003632" class="Heading1"><span></span>Displaying the State of Tiles</div><div id="ww998891" class="Body">You can create a debug view to display the state of the tiles in a tiled layer using the following method: </div><div id="ww1002829" class="NormalCode" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="code">IlvTiledLayer::setDebugView(IlvView* view,</span></div><div id="ww1002832" class="NormalCode">                            IlvColor* borderColor = 0,</div><div id="ww1001467" class="NormalCode">                            IlvColor* lockedTilesColor = 0,</div><div id="ww1001468" class="LastNormalCode">                            IlvColor* cachedTilesColor = 0)</div><div id="ww1002835" class="Body">As its name suggests, this debug view is particularly useful for debugging operations when implementing load-on-demand for a new cartographic format. </div><div id="ww998876" class="Body">A tile can have four different states:</div><div id="ww998422" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>empty: its objects are not loaded into memory,</div><div id="ww998423" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>locked: its objects are loaded into memory and visible,</div><div id="ww998424" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>cached: its objects are loaded into memory but not visible,</div><div id="ww1001897" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>deleted: its objects have been deleted from the cache.</div><div id="ww998425" class="Body">The debug view is of the <span class="ClassName"><a href="../RefMan/refcppfoundation/classIlvView.html">IlvView</a></span> type, and must be attached to a tiled layer. The debug view does not increment nor decrement the tile lock counters. This is the role of the tile controller. It just displays the tiles in color according to their state, as in Figure&nbsp;4.2</div><div class="ww_skin_page_overflow"><div id="ww1003601" class="Startfigure"><img class="Default" src="../Options/images/debugView.gif" width="100%" style="display: block; left: 0.0pt; max-height: 294px; max-width: 312px; top: 0.0pt" alt="" /></div></div><div id="ww1003603" class="Caption">Load-on-Demand Debug View</div><div id="ww1003604" class="Body">The tiles with lock counters greater than 1 appear in blue. They are visible in at least one view. The tiles whith counters equal to 0 appear in yellow. They are cached. The white tiles are not loaded. </div><div id="ww998433" class="Body">In the previous example, an <span class="ClassName"><a href="../RefMan/refcppmanager/classIlvManagerMagViewInteractor.html">IlvManagerMagViewInteractor</a></span> was associated with the debug view. It is this interactor that displays a little yellow square inside the blue tile. The square shows the zone displayed by the main view.</div><div id="ww1002895" class="Body">The following example creates a debug view for a layer.</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1007066" class="CodeInTable">&nbsp;</div><div id="ww1007067" class="CodeInTable">void</div><div id="ww1007068" class="CodeInTable">SimpleLod::debugView() {</div><div id="ww1007069" class="CodeInTable">    _debug = new IlvView(_display,</div><div id="ww1007070" class="CodeInTable">                         "DebugView",</div><div id="ww1007071" class="CodeInTable">                         "DebugView",</div><div id="ww1007072" class="CodeInTable">                         IlvRect(450, 0, 100, 100),</div><div id="ww1007073" class="CodeInTable">                         IlvFalse, IlvFalse);</div><div id="ww1007074" class="CodeInTable">    _manager-&gt;addView(_debug);</div><div id="ww1007075" class="CodeInTable">    _tiledLayer-&gt;setDebugView(_debug);</div><div id="ww1007076" class="CodeInTable">}</div><div id="ww1006749" class="CodeInTable">&nbsp;</div></td></tr></table></div><div id="ww1002898" class="Body">The following code associates an <span class="ClassName"><a href="../RefMan/refcppmanager/classIlvManagerMagViewInteractor.html">IlvManagerMagViewInteractor</a></span> with the debug view.</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1007080" class="CodeInTable">&nbsp;</div><div id="ww1007081" class="CodeInTable">void</div><div id="ww1007082" class="CodeInTable">SimpleLod::magView()</div><div id="ww1007083" class="CodeInTable">{</div><div id="ww1007084" class="CodeInTable">    _magvint = new IlvManagerMagViewInteractor(_manager, _debug, _view);</div><div id="ww1007085" class="CodeInTable">&nbsp;</div><div id="ww1007086" class="CodeInTable">    _magvint-&gt;setAutoZooming(IlvTrue);</div><div id="ww1007087" class="CodeInTable">    _magvint-&gt;setAutoTranslating(IlvTrue);</div><div id="ww1007088" class="CodeInTable">    _magvint-&gt;setResizingAllowed(IlvTrue);</div><div id="ww1007089" class="CodeInTable">&nbsp;</div><div id="ww1007090" class="CodeInTable">    _manager-&gt;setInteractor(_magvint, _debug);</div><div id="ww1007091" class="CodeInTable">}</div><div id="ww1006766" class="CodeInTable">&nbsp;</div></td></tr></table></div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright © 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>