<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Managing Rows in a Data Source</title><link rel="Prev" href="datasource.06.05.html" title="Previous" /><link rel="Next" href="datasource.06.07.html" title="Next" /><link rel="StyleSheet" href="css/datasource.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/datasource_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/Options/datasource.06.06.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pSzlNnfIFSZiVPOA7zY3gCg" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/Options/datasource.06.06.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../Options/dausrfrontcover.html#wwconnect_header">Data Access User Manual</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/dausrpart1.html#ww144909">Rogue Wave&nbsp;Views Data Access Common Framework</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/datasource.06.01.html#wwconnect_header">Data Sources and Gadgets</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/datasource.06.02.html#wwconnect_header">Data Sources</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Managing Rows in a Data Source</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww999365" class="Heading2"><span></span>Managing Rows in a Data Source</div><div id="ww1014933" class="Body">Once a data source gadget has been defined and gadgets have been connected to it, the row management member functions of the data source can be used. These row management functions differ from the <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliTable.html">IliTable</a></span> row management functions in that they are based on the concept of a current row. Changing the current row of a data source has a direct result on the user interface. The <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliTable.html">IliTable</a></span> row management functions should be used when you want to manage rows without changing the current row in the user interface. Changing the current row means moving to another row. With regard to editing the values in a row (current or not), the user interface is updated in both cases. See <a href="../Options/tables.05.08.html#ww997922" title="Managing Rows in a Table">Managing Rows in a Table</a>.</div><div id="ww1015839" class="Body">From the end user’s point of view, Data Access provides an <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliDbNavigator.html">IliDbNavigator</a></span> gadget that connects to a data source. With this gadget, the end user can perform actions on the data source.</div><div class="ww_skin_page_overflow"><div id="ww1015843" class="Startfigure">   <img class="Default" src="../Options/images/onlineIliDbNavigator.gif" width="100%" style="display: block; left: 0.0pt; max-height: 343px; max-width: 622px; top: 0.0pt" alt="" />        </div></div><div id="ww999256" class="Caption">An IliDbNavigator Gadget and the API Member Functions that It Calls</div><div id="ww999266" class="Body">Each button in the <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliDbNavigator.html">IliDbNavigator</a></span> calls the corresponding member functions in <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliDataSource.html">IliDataSource</a></span> directly. </div><div id="ww999255" class="Body">If the table object managed by the data source is a two-tier table (for example, an <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliSQLTable.html">IliSQLTable</a></span>), the <span class="code">select</span> member function can be used to re-evaluate the SQL table query.</div><div id="ww999271" class="Body">The “<span class="code">goto</span>” set of member functions enable you to move the current row of the data source. You can move to any row using the <span class="code">gotoPrevious</span>, <span class="code">gotoNext</span>, <span class="code">gotoFirst</span>, <span class="code">gotoLast</span>, <span class="code">gotoRow</span>. The <span class="code">gotoRow</span> member function takes a row index parameter.</div><div id="ww999272" class="Body">When the current row of a data source changes, the value displayed by any gadget connected to the data source (for example, entry fields), is automatically adjusted.</div><div id="ww999254" class="Body">If you want to modify a row in the underlying table of a data source, you can proceed in the following way: </div><div id="ww999275" class="NormalCode">IliDataSource* ds;</div><div id="ww1007289" class="NormalCode">...</div><div id="ww1007290" class="NormalCode">// We want to modify the 2nd row. </div><div id="ww1007291" class="NormalCode">ds-&gt;gotoRow(1);</div><div id="ww1007292" class="NormalCode">// Make any changes to the columns of the data source.</div><div id="ww1007293" class="NormalCode">ds-&gt;setValue(“Name”, IliValue(“Smith”));</div><div id="ww1007294" class="NormalCode">...</div><div id="ww1007295" class="NormalCode">// Validate changes.</div><div id="ww1007296" class="NormalCode">if(!ds-&gt;validate()) </div><div id="ww1007297" class="LastNormalCode">   IlvPrint(“Update failed”);</div><div id="ww999207" class="Body">The <span class="code">setValue</span> member function is used to modify a value contained in the data source buffer. The data source buffer retains the changes until the <span class="code">validate</span> member function is called. When there are changes pending in a validation, the <span class="code">isInputModified</span> member function returns <span class="code">true</span>.</div><div id="ww999042" class="Body">During the period of time that it takes for the <span class="code">isInputModified</span> member function to return <span class="code">true</span> on a data source, any pending changes can be canceled using the <span class="code">cancel</span> member function. </div><div id="ww999295" class="Body">In all situations, the underlying table is modified only when <span class="code">validate</span> is called, not each time the <span class="code">setValue</span> member function is called. </div><div id="ww999301" class="Body">The following code sample shows how a new row can be inserted:</div><div id="ww999304" class="NormalCode">IliDataSource* ds;</div><div id="ww1007299" class="NormalCode">...</div><div id="ww1007300" class="NormalCode">// We want to insert a new row. </div><div id="ww1007301" class="NormalCode">ds-&gt;startInsert();</div><div id="ww1007302" class="NormalCode">// Assign values to the columns of the data source.</div><div id="ww1007303" class="NormalCode">ds-&gt;setValue(“Id”, IliValue(32));</div><div id="ww1007304" class="NormalCode">ds-&gt;setValue(“Name”, IliValue(“Jones”));</div><div id="ww1007305" class="NormalCode">...</div><div id="ww1007306" class="NormalCode">// Validate insertion.</div><div id="ww1007307" class="NormalCode">if(!ds-&gt;validate()) </div><div id="ww1007308" class="LastNormalCode">   IlvPrint(“Insert failed”);</div><div id="ww999302" class="Body">The main difference between this example and the previous one is that the <span class="code">startInsert</span> member function is used instead of using the <span class="code">gotoRow</span> member function to move to an existing row.</div><div class="ww_skin_page_overflow"><table class="NoteTable" cellspacing="0" summary=""><tr><td style="padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top"><div id="ww999320" class="Note"><span class="flag">Note:&nbsp;</span>You can disable the insertion through a data source by calling the <span class="code">enableInsert</span> member function with the parameter set to false. </div></td></tr></table></div><div id="ww999327" class="Body">The <span class="code">deleteCurrentRow</span> member function can be used to remove the current row.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright © 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>