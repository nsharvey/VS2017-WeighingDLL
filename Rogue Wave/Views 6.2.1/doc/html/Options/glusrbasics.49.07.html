<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Basic Operations with IlvGraphLayout</title><link rel="Prev" href="glusrbasics.49.06.html" title="Previous" /><link rel="Next" href="glusrbasics.49.08.html" title="Next" /><link rel="StyleSheet" href="css/glusrbasics.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/glusrbasics_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/Options/glusrbasics.49.07.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pUSw80dSnLxuH70xf_002byWogQ" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/Options/glusrbasics.49.07.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../Options/glusrfrontcover.html#wwconnect_header">Graph Layout</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/glusrbasics.49.01.html#wwconnect_header">Basic Concepts</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Basic Operations with IlvGraphLayout</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww1011589" class="Heading1"><span></span>Basic Operations with IlvGraphLayout</div><div id="ww1011595" class="Body">When subclassing <span class="ClassName"><a href="../RefMan/refcppgraphlayout/classIlvGraphLayout.html">IlvGraphLayout</a></span>, you will normally use the basic methods described in this section.</div><div id="ww1011492" class="Subhead"><span></span>Instantiating a Subclass of IlvGraphLayout  </div><div id="ww1011493" class="Body">The class <span class="code">IlvGraphLayout</span> is an abstract class. You will instantiate a subclass as shown in the following example: </div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1021415" class="CodeInTable">IlvOrthogonalLinkLayout* layout = new IlvOrthogonalLinkLayout();</div><div id="ww1021025" class="CodeInTable">&nbsp;</div></td></tr></table></div><div id="ww1011498" class="Body">If you want to use the layout report that is returned by the layout algorithm, you need to declare a handle for the appropriate layout report class, as in this example: </div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1021419" class="CodeInTable">IlvGraphLayoutReport* layoutReport;</div><div id="ww1021031" class="CodeInTable">&nbsp;</div></td></tr></table></div><div id="ww1011599" class="Body">For more information on the layout report, see <a href="../Options/glusradvanced.52.02.html#ww999052" title="Using a Layout Report">Using a Layout Report</a>.</div><div id="ww1011505" class="Subhead"><span></span>Attaching a Grapher </div><div id="ww1011506" class="Body">The <span class="ClassName"><a href="../RefMan/refcppgraphlayout/classIlvGraphLayout.html">IlvGraphLayout</a></span><span class="code">::attach</span> method of the <span class="ClassName"><a href="../RefMan/refcppgraphlayout/classIlvGraphLayout.html">IlvGraphLayout</a></span> class allows you to specify the grapher you want to lay out:   </div><div id="ww1011510" class="IndentedL1"><span class="code">void attach(IlvGrapher* grapher)</span> </div><div id="ww1011517" class="Body">For example:</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1021423" class="CodeInTable">IlvGrapher* grapher = new IlvGrapher(display);</div><div id="ww1021424" class="CodeInTable">// Add nodes and links to the grapher here </div><div id="ww1021425" class="CodeInTable">layout-&gt;attach(grapher);</div><div id="ww1021039" class="CodeInTable">&nbsp;</div></td></tr></table></div><div id="ww1011521" class="Body">You must attach the grapher before performing the layout. The method <span class="code">IlvGraphLayout::</span><span class="code">attach</span> first detaches the grapher that is already attached, if any. You can obtain the attached grapher using the method <span class="ClassName"><a href="../RefMan/refcppgraphlayout/classIlvGraphLayout.html">IlvGraphLayout</a></span><span class="code">::getGrapher</span>. </div><div id="ww1011529" class="Subhead"><span></span>Performing a Layout </div><div id="ww1011532" class="Body">The <span class="ClassName"><a href="../RefMan/refcppgraphlayout/classIlvGraphLayout.html">IlvGraphLayout</a></span><span class="code">::performLayout</span> method starts the layout algorithm using the currently <span class="hypertext">attached grapher</span> and the current settings for the layout parameters (see <a href="../Options/glusrbasics.49.08.html#ww1008140" title="Layout Parameters in IlvGraphLayout">Layout Parameters in IlvGraphLayout</a>).</div><div id="ww1011540" class="LastNormalCode" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 11.0pt; text-transform: none; vertical-align: baseline"><span class="code">IlvGraphLayoutReport* performLayout() </span></div><div id="ww1011544" class="Body">The layout algorithm first verifies whether it is necessary to perform the layout. It checks internal flags to see whether the grapher or any of the parameters have been changed since the last time the layout was successfully performed. A “change” can be any of the following: </div><div id="ww1011545" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>Nodes or links were added or removed. </div><div id="ww1012224" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>Nodes or links were moved or reshaped. </div><div id="ww1011546" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>The value of a layout parameter was modified. </div><div id="ww1015019" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>The size of a manager view into which the layout must fit changed. (The layout region mechanism is explained in <a href="../Options/glusrbasics.49.11.html#ww1000924" title="Layout Region">Layout Region</a>.) </div><div id="ww1015023" class="Body">Users often do not want the layout to be computed again if no changes occurred. If there were no changes, the method <span class="code">IlvGraphLayout::performLayout</span> returns without performing the layout.</div><div id="ww1011555" class="Body">The protected abstract method <span class="MethodName"><a href="../RefMan/refcppgraphlayout/classIlvGraphLayout.html#a7a7b76dedbac59814fe3c6cd9199dec8">layout</a></span> is then called. This means that the control is passed to the subclasses that are implementing this method. The implementation computes the layout and moves the nodes to new positions.</div><div id="ww1011556" class="Body">The <span class="code">IlvGraphLayout::performLayout</span> method returns an instance of <span class="ClassName"><a href="../RefMan/refcppgraphlayout/classIlvGraphLayoutReport.html">IlvGraphLayoutReport</a></span> (or of a subclass) that contains information about the behavior of the layout algorithm. It tells you whether the algorithm performed normally, or whether a particular, predefined case occurred. (For a more detailed description of the layout report, see <a href="../Options/glusradvanced.52.02.html#ww999052" title="Using a Layout Report">Using a Layout Report</a>.) </div><div id="ww1011560" class="Body">Note that the layout report that is returned can be an instance of a subclass of <span class="code">IlvGraphLayoutReport</span> depending on the particular subclass of <span class="code">IlvGraphLayout</span> you are using. Subclasses of <span class="code">IlvGraphLayoutReport</span> are used to store layout algorithm-dependent information.</div><div id="ww1011569" class="Subhead"><span></span>Detaching a Grapher </div><div id="ww1011570" class="Body">You call the <span class="MethodName"><a href="../RefMan/refcppgraphlayout/classIlvGraphLayout.html#a536e49f570e0a4621de2af4b43107caa">detach</a></span> method when you no longer need the layout instance. If the <span class="code">IlvGraphLayout::</span><span class="code">detach</span> method is not called, some objects may not be deleted. This method also performs cleaning operations on the grapher (properties are removed that may have been added by the layout algorithm on the grapher’s objects) and reinitializes parameters as mentioned in <a href="../Options/glusrbasics.49.07.html#ww1011505" title="Basic Operations with IlvGraphLayout">Attaching a Grapher</a>. </div><div id="ww1011577" class="IndentedL1"><span class="code">void detach()</span> </div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright © 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>