<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Selecting a Target Projection</title><link rel="Prev" href="programmingmaps.56.14.html" title="Previous" /><link rel="Next" href="programmingmaps.56.16.html" title="Next" /><link rel="StyleSheet" href="css/programmingmaps.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/programmingmaps_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/Options/programmingmaps.56.15.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pKvSp4O5Acsx6_002fAc_002ffQGTOw" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/Options/programmingmaps.56.15.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../Options/docfrontcover.html#wwconnect_header">Maps</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/programmingmaps.56.01.html#wwconnect_header">Rogue Wave&nbsp;Views Maps Reader Framework </a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current"> Selecting a Target Projection</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww1020089" class="Heading1"><span></span> Selecting a Target Projection</div><div id="ww1007395" class="Body">Maps are always represented within a specific projection system. If you want to merge data coming from different sources into the same manager, you should be able to reproject it so that its respective positions on the target map reflect its exact positions in the source projection. Also if you include Rogue Wave®&nbsp;Views&nbsp;Maps&nbsp;graphical user interface component, such as the scale, the compass, or the coordinate viewer in your application, these components need to know the reference projection to operate correctly. The Rogue Wave&nbsp;Views&nbsp;components designed for cartography can be found in the GUI package. </div><div id="ww1007499" class="Body">Associating a projection with an <span class="ClassName"><a href="../RefMan/refcppmanager/classIlvManager.html">IlvManager</a></span> is done using a <span class="ClassName"><a href="../RefMan/refcppmaps/classIlvMapInfo.html">IlvMapInfo</a></span> class. This class holds an <span class="ClassName"><a href="../RefMan/refcppmaps/classIlvProjection.html">IlvProjection</a></span> and an <span class="ClassName"><a href="../RefMan/refcppmaps/classIlvMapAdapter.html">IlvMapAdapter</a></span>, and thus define the projection and the mapping between the geographic coordinates and the manager coordinates.</div><div id="ww1020128" class="Body">The following example associates a Mercator projection with the manager:</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1036793" class="Body">IlvMercatorProjection* proj = new IlvMercatorProjection();</div><div id="ww1036794" class="Body">IlvMapInfo* mapInfo = new IlvMapInfo(proj, 0, IlvFalse);</div><div id="ww1036795" class="Body">mapInfo-&gt;attach(_manager);</div><div id="ww1034837" class="CodeInTable">&nbsp;</div></td></tr></table></div><div id="ww1008067" class="Body">The map info is automatically saved when the manager is saved to an <span class="code">.ilv</span> file (via a call to the <span class="ClassName"><a href="../RefMan/refcppmanager/classIlvManager.html">IlvManager</a></span><span class="code">::save</span> method). When reading a map from an <span class="code">.ilv</span> file, you can retrieve the projection contained in the manager to find out what kind of projection was used to create the map. For example:</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1037180" class="Body">IlvManager* manager = new IlvManager(display);</div><div id="ww1037181" class="Body">manager-&gt;read(fileName);</div><div id="ww1037182" class="Body">IlvMapInfo* mapInfo = IlvMapInfo::Get(manager);</div><div id="ww1037183" class="Body">if(!mapInfo) {</div><div id="ww1037184" class="Body">    IlvPrint("No IlvMapInfo was saved in this file");</div><div id="ww1037185" class="Body">} else {</div><div id="ww1037186" class="Body">    const IlvProjection* projection = mapInfo-&gt;getProjection();</div><div id="ww1037187" class="Body">    if(!projection)</div><div id="ww1037188" class="Body">        IlvPrint("No projection was saved in this file");</div><div id="ww1037189" class="Body">    else</div><div id="ww1037190" class="Body">        IlvPrint("The %s projection was saved in this file",</div><div id="ww1037191" class="Body">                 projection-&gt;getClassInfo()-&gt;getProjectionName());</div><div id="ww1037192" class="Body">}</div><div id="ww1035277" class="CodeInTable">&nbsp;</div></td></tr></table></div><div id="ww1031074" class="Body">The package <span class="code">projection</span> provides a number of predefined projections which all inherit from the <span class="ClassName"><a href="../RefMan/refcppmaps/classIlvProjection.html">IlvProjection</a></span> base class. These projections are described in <a href="../Options/projections.59.01.html#ww998065" title="Map Projections">Map Projections</a>. See also the section <a href="../Options/programmingmaps.56.18.html#ww1024605" title="The Map Loader">Loading Nongeoreferenced Files</a>.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright © 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>