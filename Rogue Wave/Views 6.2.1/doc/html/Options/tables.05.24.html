<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Persistence</title><link rel="Prev" href="tables.05.23.html" title="Previous" /><link rel="Next" href="tables.05.25.html" title="Next" /><link rel="StyleSheet" href="css/tables.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/tables_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/Options/tables.05.24.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pXCr2fqro6QcnZZq1EOsPhA" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/Options/tables.05.24.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../Options/dausrfrontcover.html#wwconnect_header">Data Access User Manual</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/dausrpart1.html#ww144909">Rogue Wave&nbsp;Views Data Access Common Framework</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/tables.05.01.html#wwconnect_header">Tables</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/tables.05.20.html#wwconnect_header">Subclassing IliTable </a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Persistence</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww997737" class="Heading2"><span></span>Persistence</div><div id="ww999959" class="Body">Having created a custom table class, you may want to make it <span class="emphasis">persistent</span>. Making it persistent means that it is integrated in Rogue Wave®&nbsp;Views Studio. It can appear in the Data Access palette of the Palettes panel and can be used in the same way as other Data Access classes. For example, you may want to make a custom data source that uses your persistent custom table. </div><div id="ww1000041" class="Body">To make your custom table class persistent, you should ensure that the following items are declared in the header file for the class:</div><div id="ww999970" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>a copy constructor</div><div id="ww999993" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>a stream based constructor</div><div id="ww999988" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>the <span class="code">IliDeclareDTypeInfo</span> macro in the class declaration</div><div id="ww999973" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>a <span class="code">write</span> virtual member function</div><div id="ww999994" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>an <span class="code">operator==</span></div><div id="ww1000601" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>the <span class="code">IliDeclareTypeInit</span> macro is used in the header file</div><div id="ww999960" class="NormalCode">#include &lt;ilviews/dataccess/table.h&gt;</div><div id="ww1002754" class="NormalCode">&nbsp;</div><div id="ww1002755" class="NormalCode">class DirectoryTable : public IliTable {</div><div id="ww1002756" class="NormalCode">public:</div><div id="ww1002757" class="NormalCode">   ...</div><div id="ww1002758" class="NormalCode">   DirectoryTable(const DirectoryTable&amp;);</div><div id="ww1002759" class="NormalCode">   DirectoryTable(IlvDisplay*, istream&amp;);</div><div id="ww1002760" class="NormalCode">&nbsp;</div><div id="ww1002761" class="NormalCode">   IliDeclareDTypeInfo(DirectoryTable);</div><div id="ww1002762" class="NormalCode">   virtual void write (ostream&amp;) const;</div><div id="ww1002763" class="NormalCode">   int operator == (const DirectoryTable&amp;) const;</div><div id="ww1002765" class="NormalCode">   ...</div><div id="ww1002766" class="NormalCode">};</div><div id="ww1002767" class="LastNormalCode">IliDeclareTypeInit(DirectoryTable);</div><div id="ww1002769" class="Body">In the source file, the implementation should do the following:</div><div id="ww1000000" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>Use the <span class="code">IliRegisterDClass</span> macro.</div><div id="ww1000003" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>Implement all the constructors and member functions mentioned above.</div><div id="ww1000004" class="Body">Here is an outline of what the implementation may look like. The details have been left for you to fill in:</div><div id="ww1000008" class="NormalCode">DirectoryTable::DirectoryTable(const DirectoryTable&amp; o)</div><div id="ww1002772" class="NormalCode"> : IliTable(o)</div><div id="ww1002773" class="NormalCode">{</div><div id="ww1002774" class="NormalCode">   ...</div><div id="ww1002775" class="NormalCode">}</div><div id="ww1002776" class="NormalCode">&nbsp;</div><div id="ww1002777" class="NormalCode">DirectoryTable::DirectoryTable(IlvDisplay* dpy, istream&amp; is)</div><div id="ww1002778" class="NormalCode">  : IliTable(dpy, is)</div><div id="ww1002779" class="NormalCode">{</div><div id="ww1002780" class="NormalCode">  ...</div><div id="ww1002781" class="NormalCode">}</div><div id="ww1002782" class="NormalCode">&nbsp;</div><div id="ww1002783" class="NormalCode">void DirectoryTable::write (ostream&amp; os) const {</div><div id="ww1002784" class="NormalCode">   IliTable::write(os);</div><div id="ww1002785" class="NormalCode">   ...</div><div id="ww1002786" class="NormalCode">}</div><div id="ww1002787" class="NormalCode">&nbsp;</div><div id="ww1002788" class="NormalCode">int DirectoryTable::operator == (const DirectoryTable&amp; o) const {</div><div id="ww1002789" class="NormalCode">   if (!IliTable::operator == (o))</div><div id="ww1002790" class="NormalCode">      return 0;</div><div id="ww1002791" class="NormalCode">   ...</div><div id="ww1002792" class="NormalCode">}</div><div id="ww1002793" class="NormalCode">&nbsp;</div><div id="ww1002794" class="LastNormalCode">IliRegisterDClass(DirectoryTable,IliTable);</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright © 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>