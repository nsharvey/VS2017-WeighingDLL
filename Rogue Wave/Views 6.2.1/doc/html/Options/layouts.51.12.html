<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>For Experts: Further Tips and Tricks</title><link rel="Prev" href="layouts.51.11.html" title="Previous" /><link rel="Next" href="layouts.51.13.html" title="Next" /><link rel="StyleSheet" href="css/layouts.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/layouts_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/Options/layouts.51.12.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pN_002f12hVllvtMBQSgeVzOLiGw" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/Options/layouts.51.12.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../Options/glusrfrontcover.html#wwconnect_header">Graph Layout</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/layouts.51.01.html#wwconnect_header">Layout Algorithms</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/layouts.51.05.html#wwconnect_header">Tree Layout </a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">For Experts: Further Tips and Tricks </span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww1040849" class="Heading2"><span></span>For Experts: Further Tips and Tricks </div><div id="ww1052439" class="Body">Here are more featured items for using Tree Layout:</div><div id="ww1052406" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><a href="../Options/layouts.51.12.html#ww1040850" title="For Experts: Further Tips and Tricks">East-West Neighbors</a> </div><div id="ww1052411" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><a href="../Options/layouts.51.12.html#ww1040945" title="For Experts: Further Tips and Tricks">Retrieving Link Categories</a> </div><div id="ww1052424" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><a href="../Options/layouts.51.12.html#ww1040993" title="For Experts: Further Tips and Tricks">Sequences of Layouts with Incremental Changes</a> </div><div id="ww1052429" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><a href="../Options/layouts.51.12.html#ww1040995" title="For Experts: Further Tips and Tricks">Interactive Editing</a> </div><div id="ww1052434" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><a href="../Options/layouts.51.12.html#ww1041009" title="For Experts: Further Tips and Tricks">Specifying the Order of Children</a> </div><div id="ww1040850" class="Heading3"><span></span>East-West Neighbors </div><div id="ww1040851" class="Body">You can specify that two unrelated nodes must be directly neighbored in a direction perpendicular to the flow direction. In level or radial layout mode, both nodes are placed in the same level next to each other. In free layout or tip-over mode, both nodes are placed aligned at the north border. Such nodes are called <span class="emphasis">east-west neighbors</span>, because one node is placed as the direct neighbor on the east side of the other node (and the other node becomes the direct neighbor on the west side of the first node). See also <a href="../Options/layouts.51.07.html#ww1040331" title="Parameters">Compass Directions</a>).</div><div id="ww1040855" class="Body">Technically, both nodes are treated as parent and child, even if there may be no link in between. Therefore, one of the two nodes can have a real parent, but the other node should not, because its virtual parent is its <span class="emphasis">east-west neighbor</span>. </div><div id="ww1045500" class="Body">This feature can be used, for example, for annotating nodes in a typed syntax tree occurring in compiler construction. <a href="../Options/layouts.51.12.html#ww1049952" title="For Experts: Further Tips and Tricks">Annotated Syntax Tree of Statement a[25] = b[24] + 0.5;</a> illustrates the usage.</div><div class="ww_skin_page_overflow"><div id="ww1041481" class="Startfigure"><img class="Default" src="../Options/images/layouts.51.12.1.png" width="100%" style="display: block; left: 0.0pt; max-height: 346px; max-width: 491px; top: 0.0pt" alt="" /></div></div><div id="ww1049952" class="Caption">Annotated Syntax Tree of Statement a[25] = b[24] + 0.5;</div><div id="ww1049953" class="Body">Use the following method to specify that two nodes are <span class="emphasis">east-west neighbors</span>:</div><div id="ww1049954" class="IndentedL1" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; margin-top: 5.0pt; text-transform: none; vertical-align: baseline"><span class="code">void </span><span class="MethodName"><a href="../RefMan/refcppgraphlayout/classIlvTreeLayout.html#a8921f1daf181ac6f86859bfadee23316">setEastWestNeighboring</a></span><span class="code">(IlAny eastNode, IlAny westNode); </span></div><div id="ww1049955" class="Body">You can also use the following method, which is identical except for the reversed parameter order:</div><div id="ww1040874" class="IndentedL1" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; margin-top: 5.0pt; text-transform: none; vertical-align: baseline"><span class="code">void </span><span class="MethodName"><a href="../RefMan/refcppgraphlayout/classIlvTreeLayout.html#a81e1d43ccfaed4c268e1a99fe5a69618">setWestEastNeighboring</a></span><span class="code">(IlAny westNode, IlAny eastNode); </span></div><div id="ww1040875" class="Body">If the flow direction is to the bottom, the latter method may be easier to remember, because in this case west is to the left of east in the layout, similar to the text flow of the parameters.</div><div id="ww1040876" class="Body">To obtain which node is the east or west neighbor of a node, call:</div><div id="ww1040877" class="IndentedL1" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; margin-top: 5.0pt; text-transform: none; vertical-align: baseline"><span class="code">IlAny </span><span class="MethodName"><a href="../RefMan/refcppgraphlayout/classIlvTreeLayout.html#a52c2e2fec2f54c394e1a97eb5cb5cc8d">getEastNeighbor</a></span><span class="code">(IlAny node); </span></div><div id="ww1040878" class="IndentedL1" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; margin-top: 5.0pt; text-transform: none; vertical-align: baseline"><span class="code">IlAny </span><span class="MethodName"><a href="../RefMan/refcppgraphlayout/classIlvTreeLayout.html#a7bbff2cc77ed9f746c99dfa14b6a28c5">getWestNeighbor</a></span><span class="code">(IlAny node); </span></div><div id="ww1041488" class="Body">Note that each node can have maximally one east neighbor and one west neighbor, because they are <span class="emphasis">directly</span> neighbored. If more than one direct neighbor is specified, it will be partially ignored. Cyclic specifications can cause conflict as well. For instance, if node <span class="code">B</span> is the east neighbor of node <span class="code">A</span> and node <span class="code">C</span> is the east neighbor of <span class="code">B</span>, then node <span class="code">A</span> cannot be the east neighbor of <span class="code">C</span>. (Strictly speaking, such cycles could be technically possible in some situations in the radial layout mode, but nonetheless they are not allowed in any layout mode.)</div><div id="ww1041489" class="Body">If <span class="code">B</span> is the east neighbor of <span class="code">A</span>, then <span class="code">A</span> is automatically the west neighbor of <span class="code">B</span>. On the other hand, the east neighbor of <span class="code">A</span> can itself have another east neighbor. This allows creating chains of east-west neighbors, which is a common way to visualize lists of trees. Two examples are shown in <a href="../Options/layouts.51.12.html#ww1040944" title="For Experts: Further Tips and Tricks">Chains of East-West Neighbors to Visualize Lists of Trees</a>.</div><div class="ww_skin_page_overflow"><div id="ww1041554" class="Startfigure"><img class="Default" src="../Options/images/layouts.51.12.2.png" width="100%" style="display: block; left: 0.0pt; max-height: 161px; max-width: 491px; top: 0.0pt" alt="" /></div></div><div id="ww1040944" class="Caption">Chains of East-West Neighbors to Visualize Lists of Trees</div><div id="ww1040945" class="Heading3"><span></span>Retrieving Link Categories </div><div id="ww1040949" class="Body">The Tree Layout Algorithm works on a spanning tree, as mentioned in a <a href="../Options/layouts.51.06.html#ww1002089" title="Brief Description of the Algorithm">Brief Description of the Algorithm</a>. If the graph to be laid out is not a pure tree, the algorithm ignores some links. In order to perform a special treatment of such links, it is possible to obtain the list of non-tree links.</div><div id="ww1040950" class="Body">There are parents and children in the spanning tree. We distinguish the following link categories:</div><div id="ww1040951" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><span class="emphasis">Forward tree link</span>: a link from a parent to its child.</div><div id="ww1040952" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><span class="emphasis">Backward tree link</span>: a link from a child to its parent. If the link is drawn as a directed arrow, the arrow will point converse to the flow direction. </div><div id="ww1040953" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span><span class="emphasis">Non-tree link</span>: a link between two unrelated nodes; neither one is a child of the other.</div><div class="ww_skin_page_overflow"><div id="ww1040973" class="Startfigure"><img class="Default" src="../Options/images/layouts.51.12.3.png" width="100%" style="display: block; left: 0.0pt; max-height: 191px; max-width: 491px; top: 0.0pt" alt="" /></div></div><div id="ww1040974" class="Caption">Link Categories</div><div id="ww1040975" class="Body">The layout algorithm uses these link categories internally but does not store them permanently for the sake of time and memory efficiency. If you want to perform a special treatment on some link categories (for example, to call the Orthogonal Link Layout on the non-tree links), you must specify <span class="emphasis">before layout</span> that you want to access the link categories <span class="emphasis">after layout</span>. In order to do this, use the method <span class="MethodName"><a href="../RefMan/refcppgraphlayout/classIlvTreeLayout.html#a192119533b4468ee7d5aad3bb3168e81">setCategorizingLinks</a></span> in the following way:</div><div id="ww1040976" class="NormalCode">layout-&gt;setCategorizingLinks(IlTrue);</div><div id="ww1040977" class="NormalCode">// now perform a layout</div><div id="ww1040978" class="NormalCode">layout-&gt;performLayout();</div><div id="ww1040979" class="LastNormalCode">// now you can access the link categories</div><div id="ww1040981" class="Body">After layout, the link categories are available in three lists that can be obtained by these methods:</div><div id="ww1050040" class="IndentedL1" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; margin-top: 5.0pt; text-transform: none; vertical-align: baseline"><span class="code">const IlList* </span><span class="MethodName"><a href="../RefMan/refcppgraphlayout/classIlvTreeLayout.html#a0d4501182e31df4ee3ad13f46c6386a3">getCalcForwardTreeLinks</a></span><span class="code">() const; </span></div><div id="ww1050042" class="IndentedL1" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; margin-top: 5.0pt; text-transform: none; vertical-align: baseline"><span class="code">const IlList* </span><span class="MethodName"><a href="../RefMan/refcppgraphlayout/classIlvTreeLayout.html#af681ff00b3a5a95e4da3735e1aa67021">getCalcBackwardTreeLinks</a></span><span class="code">() const; </span></div><div id="ww1050044" class="IndentedL1" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 3.0pt; margin-top: 5.0pt; text-transform: none; vertical-align: baseline"><span class="code">const IlList* </span><span class="MethodName"><a href="../RefMan/refcppgraphlayout/classIlvTreeLayout.html#a1f0e330336955b51ff756721091ddd1c">getCalcNonTreeLinks</a></span><span class="code">() const; </span></div><div id="ww1040985" class="Body">These lists get filled each time the layout is called, unless you switch <span class="emphasis">categorizing links</span> back to <span class="code">IlFalse</span>.</div><div id="ww1040986" class="Body">Note that the returned lists are constant. You should not change them directly. However, you can iterate over the lists and retrieve the links of each category, for example, to perform a special operation for non-tree links:</div><div id="ww1040987" class="NormalCode">IlvLink* link = layout-&gt;getCalcNonTreeLinks()-&gt;getFirst();</div><div id="ww1040988" class="NormalCode">while (link) {</div><div id="ww1040989" class="NormalCode">    linkimage = (IlvLinkImage*)link-&gt;getValue();</div><div id="ww1040990" class="NormalCode">    link = link-&gt;getNext();</div><div id="ww1040991" class="NormalCode">    // ... perform special operation with linkimage</div><div id="ww1040992" class="LastNormalCode">}</div><div id="ww1040993" class="Heading3"><span></span>Sequences of Layouts with Incremental Changes </div><div id="ww1040994" class="Body">You can work with trees that become out-of-date from time to time, for example, those that need to be extended with more children. If you perform a layout after an extension, you probably want to identify the parts that were already laid out in the original graph. The Tree Layout Algorithm supports such incremental changes because it takes the previous positions of the nodes into account. It preserves the relative order of the children in the next layout.</div><div id="ww1040995" class="Heading3"><span></span>Interactive Editing </div><div id="ww1040996" class="Body">The fact that the relative order is preserved is particularly useful during interactive editing. It allows you to easily correct the layout. For instance, if the first layout places a node <span class="code">A</span> left to its sibling <span class="code">B</span> but you need it in reverse order, you can simply move <span class="code">A</span> to the right of <span class="code">B</span> and start a new layout to clean up the drawing. In this second layout, <span class="code">A</span> will stay to the right of <span class="code">B</span>, and the subtree of <span class="code">A</span> will “follow” node <span class="code">A</span>.  </div><div class="ww_skin_page_overflow"><div id="ww1041570" class="Startfigure"><img class="Default" src="../Options/images/layouts.51.12.4.png" width="100%" style="display: block; left: 0.0pt; max-height: 146px; max-width: 491px; top: 0.0pt" alt="" /></div></div><div id="ww1041007" class="Caption">Interactive Editing to Achieve Specific Order of Children</div><div id="ww1041009" class="Heading3"><span></span>Specifying the Order of Children </div><div id="ww1041010" class="Body">Some applications require a specific relative order of children in the tree. That means, for instance—with flow direction to the bottom—which child must be placed to the left of another child. Even if the graph was never laid out, you can use the coordinates to specify a certain order of the children at a node in the following way:</div><div id="ww1041011" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>In free or level layout mode with flow direction to the bottom or top, determine the maximal width “<span class="emphasis">W</span>” of all nodes. Simply move the child that should be leftmost to the coordinate <span class="code">(0, 0)</span>, and the child that should get the <span class="emphasis">i</span>th relative position (in order from left to right) to coordinate <span class="code">((W+1)*i, 0)</span>.</div><div id="ww1041012" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>If the flow direction is to the left or to the right, determine the maximal height <span class="code">H</span> of all nodes. Move the child that should be topmost to the coordinate <span class="code">(0, 0)</span>, and the child that should get the <span class="emphasis">i</span>th relative position (in the order from top to bottom) to coordinate <span class="code">(0, (H+1)*i)</span>.</div><div id="ww1041016" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>In the radial layout modes, determine the maximal diagonal <span class="code">D = W2 + H</span> of all nodes. If the position of the parent is <span class="code">(x, y)</span> before layout, then move the child that should be the first in the circular order to the coordinate <span class="code">(x, y+D)</span>, and the child that should get the <span class="emphasis">i</span>th relative position in the circular order to coordinate <span class="code">(x+D*i, y+D)</span>. </div><div id="ww1041017" class="IndentedL1">If you want to specify a relative order for all nodes in radial mode, you must do this for the parents before you do it for the children. In this case, the movements can be easily performed during a depth-first traversal from the root to the leaves.</div><div id="ww1041018" class="Body">The layout that is performed after the movement arranges the children with the desired relative order.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright © 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>