<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Error Catching</title><link rel="Prev" href="tables.05.10.html" title="Previous" /><link rel="Next" href="tables.05.12.html" title="Next" /><link rel="StyleSheet" href="css/tables.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/tables_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/Options/tables.05.11.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pl_002byfckK6CWsIOwo8nx8q4g" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/Options/tables.05.11.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../Options/dausrfrontcover.html#wwconnect_header">Data Access User Manual</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/dausrpart1.html#ww144909">Rogue Wave&nbsp;Views Data Access Common Framework</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/tables.05.01.html#wwconnect_header">Tables</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/tables.05.08.html#wwconnect_header">Managing Rows in a Table</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Error Catching</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww997945" class="Heading2"><span></span>Error Catching</div><div id="ww997946" class="Body">All operations that are carried out on the rows of a table can fail for a variety of reasons. If an operation fails, an <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliErrorMessage.html">IliErrorMessage</a></span> object that describes the error is created. The member function that triggered the error returns an error status. </div><div id="ww997947" class="Body">An instance of the <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliErrorMessage.html">IliErrorMessage</a></span> class contains the following information:</div><div id="ww1014018" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>Origin — an enumeration tag that identifies the library from which the error originates. It can be any of the following libraries: <span class="code">DbmsServer, DbmsClientApi, DbLink, Data Access</span> or <span class="code">Application</span>.</div><div id="ww1014019" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>Code — an integer whose interpretation depends on the origin. </div><div id="ww997950" class="Itemize"><span class="WebWorks_Number" style="width: 14.173228346456696pt"><span><img src="bullet.gif" alt="*" border="0" width="8" height="8" /></span></span>Message — a character string that contains a description of the error.</div><div id="ww997951" class="Body">Error messages are caught by <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliErrorSink.html">IliErrorSink</a></span> objects. An error sink is an object to which errors can be forwarded. </div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1011687" class="CodeInTable">class IliErrorSink {</div><div id="ww1011688" class="CodeInTable">public:</div><div id="ww1011689" class="CodeInTable">   ...</div><div id="ww1011690" class="CodeInTable">   virtual void addError(const IliErrorMessage&amp;) {}</div><div id="ww1011691" class="CodeInTable">};</div><div id="ww1011692" class="CodeInTable">//The <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliErrorSink.html">IliErrorSink</a></span> class is intended to be subclassed. Here is an example:</div><div id="ww1011693" class="CodeInTable">class MyErrorSink : public IliErrorSink {</div><div id="ww1011694" class="CodeInTable">public:</div><div id="ww1011695" class="CodeInTable">   virtual void addError(const IliErrorMessage&amp; msg) {</div><div id="ww1011696" class="CodeInTable">      IlvPrint(“Error: code=%ld, message=’%s’”,</div><div id="ww1011697" class="CodeInTable">               (long)msg.getCode(),</div><div id="ww1011698" class="CodeInTable">                msg.getMessage());</div><div id="ww1011699" class="CodeInTable">   }</div><div id="ww1011683" class="CodeInTable">};</div></td></tr></table></div><div id="ww997955" class="Body">Alternatively, the <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliErrorList.html">IliErrorList</a></span> class can be used. This class inherits from <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliErrorSink.html">IliErrorSink</a></span>, overloading the <span class="code">addError</span> member function so that all errors caught are recorded and made available for inspection.</div><div id="ww997956" class="Body">Once a particular type of error sink has been chosen, the <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliTable.html">IliTable</a></span><span class="code">::addErrorSink</span> member function can be used to indicate that all subsequent error messages be forwarded to it.</div><div id="ww997957" class="Body">Here is an example of how the <span class="code">addErrorSink</span> member function can be used:</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1011711" class="CodeInTable">IliErrorList errors;</div><div id="ww1011712" class="CodeInTable">IliTable* tbl;</div><div id="ww1011713" class="CodeInTable">...</div><div id="ww1011714" class="CodeInTable">tbl-&gt;addErrorSink(&amp;errors);</div><div id="ww1011715" class="CodeInTable">if (!tbl-&gt;deleteRow(10)) {</div><div id="ww1011716" class="CodeInTable">  for(IlInt i = 0; i &lt; errors.getErrorsCount(); ++i) {</div><div id="ww1011717" class="CodeInTable">    IlvPrint(“Error: %s”, </div><div id="ww1011718" class="CodeInTable">            errors.getErrorAt(i).getMessage());</div><div id="ww1011719" class="CodeInTable">}</div><div id="ww1011707" class="CodeInTable">tbl-&gt;removeErrorSink(&amp;errors);</div></td></tr></table></div><div id="ww1002521" class="Body">Note that when table objects are acted upon through the default Data Access interaction mechanisms (such as the <span class="code">DbNavigator</span> or the table gadget), any errors that occur are automatically reported to the end user.</div><div id="ww1002540" class="Body">However, when table objects are acted upon by custom C++ or Rogue Wave&nbsp;Script code that executes on behalf of user interface callbacks, it is the custom code that bears the responsibility to catch any errors that may occur (in an error list object, for example) and to explicitly report these errors to the end user.</div><div id="ww1002551" class="Body">The distinction should be made between user interface callbacks (such as the callback of a button gadget or of a menu item) and other more specialized callbacks (such as the data source <span class="code">ValidateRow</span> callback).</div><div id="ww1002558" class="Body">Catching and reporting errors has to be done by user interface callbacks. It does not need to be done by the more specialized callbacks because the latter callbacks always execute in the context of a user interface callback.</div><div id="ww1002569" class="Body">Errors are reported by the <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliErrorReporter.html">IliErrorReporter</a></span> class, which has a virtual <span class="code">reportErrors</span> member function. It is possible to provide a custom error reporter on a data source or table gadget basis, or, more globally, the default error reporter may be overridden.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright © 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>