<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><!-- RW Customization - favicon file --><link rel="shortcut icon" href="connect/favicon.ico" /><title>Defining the Schema of a Table Object</title><link rel="Prev" href="tables.05.06.html" title="Previous" /><link rel="Next" href="tables.05.08.html" title="Next" /><link rel="StyleSheet" href="css/tables.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/tables_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../views.html#page/Options/tables.05.07.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-111257570-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body id="pk8GWG7kWlpbw8qM4qvSRzA" class="ww_skin_page_body" onload="Page.OnLoad('../views.html#page/Options/tables.05.07.html');"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><span class="ww_skin_breadcrumbs_parent"><a href="../Options/dausrfrontcover.html#wwconnect_header">Data Access User Manual</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/dausrpart1.html#ww144909">Rogue Wave&nbsp;Views Data Access Common Framework</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/tables.05.01.html#wwconnect_header">Tables</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_parent"><a href="../Options/tables.05.05.html#wwconnect_header">Schemas</a></span><span class="ww_skin_breadcrumbs_divider"> &gt; </span><span class="ww_skin_breadcrumbs_current">Defining the Schema of a Table Object</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="ww997908" class="Heading2"><span></span>Defining the Schema of a Table Object</div><div id="ww997909" class="Body">This section shows how a table can be created and its schema defined. Since the <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliTable.html">IliTable</a></span> class is abstract and therefore cannot be instantiated, the <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliMemoryTable.html">IliMemoryTable</a></span> class is used in the example below.</div><div id="ww997910" class="Body">The <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliMemoryTable.html">IliMemoryTable</a></span> class implements the table interface by storing rows in the process memory space. Therefore, this class is suitable for transient tables that do not retain their states across program executions. </div><div id="ww997911" class="Body">A number of member functions let you access or modify the schema of a table. Most of these can be found in the description of the <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliSchema.html">IliSchema</a></span> class. See Rogue Wave&nbsp;Views<span class="emphasis"> Data Access</span><span style="font-style: italic"> </span><span class="emphasis">Reference Manual</span>. The <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliTable.html">IliTable</a></span> class defines those member functions that deal specifically with the mapping of columns.</div><div id="ww997915" class="Body">Here is a list of some of the schema member functions :</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1011576" class="CodeInTable">class <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliSchema.html">IliSchema</a></span> {</div><div id="ww1011577" class="CodeInTable">   ...</div><div id="ww1011578" class="CodeInTable">   IlInt getColumnsCount() const;</div><div id="ww1011579" class="CodeInTable">   const char* getColumnName(IlInt colno) const;</div><div id="ww1011580" class="CodeInTable">   const IliDatatype* getColumnType(IlInt colno) const;</div><div id="ww1011581" class="CodeInTable">   IlBoolean isColumnPartOfKey(IlInt colno) const;</div><div id="ww1011582" class="CodeInTable">   void setColumnPartOfKey (IlInt colno, IlBoolean partOfKey);</div><div id="ww1011583" class="CodeInTable">   IlBoolean isColumnNullable(IlInt colno) const;</div><div id="ww1011584" class="CodeInTable">   void setColumnNullable(IlInt colno, IlBoolean nullable);</div><div id="ww1011585" class="CodeInTable">   IlBoolean insertColumn(IlInt colno,</div><div id="ww1011586" class="CodeInTable">                           const char* colname,</div><div id="ww1011587" class="CodeInTable">                           const IliDatatype* type,</div><div id="ww1011588" class="CodeInTable">                           IlInt maxlen = -1);</div><div id="ww1011589" class="CodeInTable">};</div></td></tr></table></div><div id="ww1011603" class="Body">The following code shows how a memory table can be defined:</div><div class="ww_skin_page_overflow"><table class="CodeTable" cellspacing="0" summary=""><tr><td style="background-color: #E0E0E0; padding-bottom: 2pt; padding-left: 0pt; padding-right: 0pt; padding-top: 2pt; vertical-align: top; width: 371.338299212598pt"><div id="ww1011625" class="CodeInTable">enum ColumnTag { IdColumn, NameColumn, SalaryColumn };</div><div id="ww1011626" class="CodeInTable">  IlvDisplay* display;</div><div id="ww1011627" class="CodeInTable">  ...</div><div id="ww1011628" class="CodeInTable">  IliMemoryTable* tbl = new IliMemoryTable(display);</div><div id="ww1011629" class="CodeInTable">  tbl-&gt;lock();</div><div id="ww1011630" class="CodeInTable">  tbl-&gt;insertColumn(IdColumn, “Id”, IliIntegerType);</div><div id="ww1011631" class="CodeInTable">  tbl-&gt;insertColumn(NameColumn, “Name”, IliStringType);</div><div id="ww1011632" class="CodeInTable">  tbl-&gt;insertColumn(SalaryColumn, “Salary”, IliDoubleType);</div><div id="ww1011633" class="CodeInTable">  tbl-&gt;setColumnPartOfKey(IdColumn, IlvTrue);</div><div id="ww1011602" class="CodeInTable">  tbl-&gt;unLock();</div></td></tr></table></div><div id="ww1011614" class="Body">In this example, a memory table is created and its schema is defined. The schema has three columns, one of which serves as a key for the table. The <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliSchema.html">IliSchema</a></span><span class="code">::insertColumn</span> and <span class="code">IliSchema::setColumnPartOfKey</span> member functions are used.</div><div id="ww1002277" class="Body">Note that the <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliMemoryTable.html">IliMemoryTable</a></span> class like all classes derived from the <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliSchema.html">IliSchema</a></span> class is reference counted. This means that it is necessary to lock instances of these classes when they are used. An instance of these classes is implicitly deleted when its reference count reaches 0.</div><div id="ww997920" class="Body">The next section contains information on how to access or edit the rows of a table. The <span class="ClassName"><a href="../RefMan/refcppdataccess/classIliTableBuffer.html">IliTableBuffer</a></span> class is the main class required to carry out these actions.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div><script><!--
            function googleTranslateElementInit() {
              new google.translate.TranslateElement({
                  pageLanguage: '',
                  autoDisplay: true
                }, 'google_translate_element');
            }
// --></script></div><br /></footer><HR /><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Version 6.2.1</div><div style="font-size: 8pt; font-family: verdana; font-weight: normal; text-align: center;">Copyright © 2018, Rogue Wave Software, Inc. All Rights Reserved.</div></body></html>